import{s as et,r as B,e as H,a as R,c as T,m as Z,g as F,b as J,f as v,o as D,v as ge,i as A,h as E,w as Y,t as tt,x as fe,d as nt,A as Ve,j as lt,C as ot,F as it,n as me}from"../chunks/scheduler.BVk0_e6s.js";import{S as st,i as at,b as U,c as oe,d as ie,m as se,t as L,a as N,e as ae,f as re,g as ce}from"../chunks/index.B3JOrRZV.js";import{S as rt,g as we,f as He,a as ct,B as _t}from"../chunks/utils.NituG2SF.js";import{R as De,A as Ee}from"../chunks/Radio.DlU7Yl5D.js";function Te(l){let e,t,c='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Variable Selection</button>',i,s,o,r,a="Subdivision",k,u,n,_,h,b=l[14]?"on":"off",C,K,G,I,m,V,j,O,w=!l[14]&&Le(l),g=!l[20]&&(l[12]||l[13])&&Se(l);return{c(){e=H("div"),t=H("h2"),t.innerHTML=c,i=R(),s=H("div"),o=H("div"),r=H("h3"),r.textContent=a,k=R(),u=H("input"),_=R(),h=H("label"),C=tt(b),K=H("br"),G=R(),w&&w.c(),I=R(),g&&g.c(),m=fe(),this.h()},l(d){e=T(d,"DIV",{class:!0});var z=J(e);t=T(z,"H2",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1b944yg"&&(t.innerHTML=c),i=F(z),s=T(z,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var W=J(s);o=T(W,"DIV",{class:!0});var Q=J(o);r=T(Q,"H3",{"data-svelte-h":!0}),Z(r)!=="svelte-ym6pj1"&&(r.textContent=a),k=F(Q),u=T(Q,"INPUT",{type:!0,class:!0,id:!0,autocomplete:!0}),_=F(Q),h=T(Q,"LABEL",{class:!0,for:!0});var q=J(h);C=nt(q,b),q.forEach(v),K=T(Q,"BR",{}),G=F(Q),w&&w.l(Q),Q.forEach(v),W.forEach(v),z.forEach(v),I=F(d),g&&g.l(d),m=fe(),this.h()},h(){D(t,"class","accordion-header"),D(u,"type","checkbox"),D(u,"class","btn-check"),D(u,"id","btn-check-outlined"),D(u,"autocomplete","off"),u.disabled=n=l[20]||l[19],D(h,"class","btn btn-outline-primary"),D(h,"for","btn-check-outlined"),D(o,"class","accordion-body"),D(s,"id","collapseTwo"),D(s,"class","accordion-collapse collapse"),D(s,"data-bs-parent","#accordionExample"),D(e,"class","accordion-item")},m(d,z){A(d,e,z),E(e,t),E(e,i),E(e,s),E(s,o),E(o,r),E(o,k),E(o,u),u.checked=l[14],E(o,_),E(o,h),E(h,C),E(o,K),E(o,G),w&&w.m(o,null),A(d,I,z),g&&g.m(d,z),A(d,m,z),V=!0,j||(O=[Ve(u,"change",l[32]),Ve(u,"change",l[23])],j=!0)},p(d,z){(!V||z[0]&1572864&&n!==(n=d[20]||d[19]))&&(u.disabled=n),z[0]&16384&&(u.checked=d[14]),(!V||z[0]&16384)&&b!==(b=d[14]?"on":"off")&&lt(C,b),d[14]?w&&(ce(),N(w,1,1,()=>{w=null}),ae()):w?(w.p(d,z),z[0]&16384&&L(w,1)):(w=Le(d),w.c(),L(w,1),w.m(o,null)),!d[20]&&(d[12]||d[13])?g?(g.p(d,z),z[0]&1060864&&L(g,1)):(g=Se(d),g.c(),L(g,1),g.m(m.parentNode,m)):g&&(ce(),N(g,1,1,()=>{g=null}),ae())},i(d){V||(L(w),L(g),V=!0)},o(d){N(w),N(g),V=!1},d(d){d&&(v(e),v(I),v(m)),w&&w.d(),g&&g.d(d),j=!1,ot(O)}}}function Le(l){let e,t,c="Cumulation",i,s,o,r,a;function k(_){l[33](_)}function u(_){l[34](_)}let n={enabled:!l[20]&&!l[19]};return l[4]!==void 0&&(n.options=l[4]),l[12]!==void 0&&(n.selected_option=l[12]),s=new De({props:n}),B.push(()=>U(s,"options",k)),B.push(()=>U(s,"selected_option",u)),s.$on("selection-changed",l[24]),{c(){e=H("div"),t=H("h3"),t.textContent=c,i=R(),oe(s.$$.fragment),this.h()},l(_){e=T(_,"DIV",{class:!0});var h=J(e);t=T(h,"H3",{"data-svelte-h":!0}),Z(t)!=="svelte-zhefv7"&&(t.textContent=c),i=F(h),ie(s.$$.fragment,h),h.forEach(v),this.h()},h(){D(e,"class","row")},m(_,h){A(_,e,h),E(e,t),E(e,i),se(s,e,null),a=!0},p(_,h){const b={};h[0]&1572864&&(b.enabled=!_[20]&&!_[19]),!o&&h[0]&16&&(o=!0,b.options=_[4],Y(()=>o=!1)),!r&&h[0]&4096&&(r=!0,b.selected_option=_[12],Y(()=>r=!1)),s.$set(b)},i(_){a||(L(s.$$.fragment,_),a=!0)},o(_){N(s.$$.fragment,_),a=!1},d(_){_&&v(e),re(s)}}}function Se(l){let e,t,c='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">Data Selection</button>',i,s,o,r,a,k="Year",u,n,_,h,b,C=l[14]&&je(l);function K(m){l[50](m)}function G(m){l[51](m)}let I={};return l[6]!==void 0&&(I.selected_elements=l[6]),l[2]!==void 0&&(I.elements=l[2]),n=new Ee({props:I}),B.push(()=>U(n,"selected_elements",K)),B.push(()=>U(n,"elements",G)),n.$on("selection-changed",l[52]),{c(){e=H("div"),t=H("h2"),t.innerHTML=c,i=R(),s=H("div"),o=H("div"),C&&C.c(),r=R(),a=H("h3"),a.textContent=k,u=R(),oe(n.$$.fragment),this.h()},l(m){e=T(m,"DIV",{class:!0});var V=J(e);t=T(V,"H2",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-6gj1vj"&&(t.innerHTML=c),i=F(V),s=T(V,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var j=J(s);o=T(j,"DIV",{class:!0});var O=J(o);C&&C.l(O),r=F(O),a=T(O,"H3",{"data-svelte-h":!0}),Z(a)!=="svelte-r9e7qt"&&(a.textContent=k),u=F(O),ie(n.$$.fragment,O),O.forEach(v),j.forEach(v),V.forEach(v),this.h()},h(){D(t,"class","accordion-header"),D(o,"class","accordion-body"),D(s,"id","collapseThree"),D(s,"class","accordion-collapse collapse"),D(s,"data-bs-parent","#accordionExample"),D(e,"class","accordion-item")},m(m,V){A(m,e,V),E(e,t),E(e,i),E(e,s),E(s,o),C&&C.m(o,null),E(o,r),E(o,a),E(o,u),se(n,o,null),b=!0},p(m,V){m[14]?C?(C.p(m,V),V[0]&16384&&L(C,1)):(C=je(m),C.c(),L(C,1),C.m(o,r)):C&&(ce(),N(C,1,1,()=>{C=null}),ae());const j={};!_&&V[0]&64&&(_=!0,j.selected_elements=m[6],Y(()=>_=!1)),!h&&V[0]&4&&(h=!0,j.elements=m[2],Y(()=>h=!1)),n.$set(j)},i(m){b||(L(C),L(n.$$.fragment,m),b=!0)},o(m){N(C),N(n.$$.fragment,m),b=!1},d(m){m&&v(e),C&&C.d(),re(n)}}}function je(l){let e,t,c,i="Aggregation",s,o,r,a,k,u,n,_="Normalisation",h,b,C,K,G,I,m,V,j;function O(y){l[35](y)}function w(y){l[36](y)}let g={};l[9]!==void 0&&(g.options=l[9]),l[17]!==void 0&&(g.selected_option=l[17]),o=new De({props:g}),B.push(()=>U(o,"options",O)),B.push(()=>U(o,"selected_option",w)),o.$on("selection-changed",l[37]);function d(y){l[38](y)}function z(y){l[39](y)}let W={};l[7]!==void 0&&(W.options=l[7]),l[8]!==void 0&&(W.selected_option=l[8]),b=new De({props:W}),B.push(()=>U(b,"options",d)),B.push(()=>U(b,"selected_option",z)),b.$on("selection-changed",l[40]);const Q=[ut,ft],q=[];function ue(y,M){return y[17]!="location"?0:1}return I=ue(l),m=q[I]=Q[I](l),{c(){e=H("div"),t=H("div"),c=H("h3"),c.textContent=i,s=R(),oe(o.$$.fragment),k=R(),u=H("div"),n=H("h3"),n.textContent=_,h=R(),oe(b.$$.fragment),G=R(),m.c(),V=fe(),this.h()},l(y){e=T(y,"DIV",{class:!0});var M=J(e);t=T(M,"DIV",{class:!0});var S=J(t);c=T(S,"H3",{"data-svelte-h":!0}),Z(c)!=="svelte-126hufg"&&(c.textContent=i),s=F(S),ie(o.$$.fragment,S),S.forEach(v),k=F(M),u=T(M,"DIV",{class:!0});var $=J(u);n=T($,"H3",{"data-svelte-h":!0}),Z(n)!=="svelte-1273uzu"&&(n.textContent=_),h=F($),ie(b.$$.fragment,$),$.forEach(v),M.forEach(v),G=F(y),m.l(y),V=fe(),this.h()},h(){D(t,"class","col-6"),D(u,"class","col-6"),D(e,"class","row")},m(y,M){A(y,e,M),E(e,t),E(t,c),E(t,s),se(o,t,null),E(e,k),E(e,u),E(u,n),E(u,h),se(b,u,null),A(y,G,M),q[I].m(y,M),A(y,V,M),j=!0},p(y,M){const S={};!r&&M[0]&512&&(r=!0,S.options=y[9],Y(()=>r=!1)),!a&&M[0]&131072&&(a=!0,S.selected_option=y[17],Y(()=>a=!1)),o.$set(S);const $={};!C&&M[0]&128&&(C=!0,$.options=y[7],Y(()=>C=!1)),!K&&M[0]&256&&(K=!0,$.selected_option=y[8],Y(()=>K=!1)),b.$set($);let X=I;I=ue(y),I===X?q[I].p(y,M):(ce(),N(q[X],1,1,()=>{q[X]=null}),ae(),m=q[I],m?m.p(y,M):(m=q[I]=Q[I](y),m.c()),L(m,1),m.m(V.parentNode,V))},i(y){j||(L(o.$$.fragment,y),L(b.$$.fragment,y),L(m),j=!0)},o(y){N(o.$$.fragment,y),N(b.$$.fragment,y),N(m),j=!1},d(y){y&&(v(e),v(G),v(V)),re(o),re(b),q[I].d(y)}}}function ft(l){let e,t="Location",c,i,s,o,r;function a(n){l[47](n)}function k(n){l[48](n)}let u={};return l[10]!==void 0&&(u.selected_elements=l[10]),l[3]!==void 0&&(u.elements=l[3]),i=new Ee({props:u}),B.push(()=>U(i,"selected_elements",a)),B.push(()=>U(i,"elements",k)),i.$on("selection-changed",l[49]),{c(){e=H("h3"),e.textContent=t,c=R(),oe(i.$$.fragment)},l(n){e=T(n,"H3",{"data-svelte-h":!0}),Z(e)!=="svelte-15gguv3"&&(e.textContent=t),c=F(n),ie(i.$$.fragment,n)},m(n,_){A(n,e,_),A(n,c,_),se(i,n,_),r=!0},p(n,_){const h={};!s&&_[0]&1024&&(s=!0,h.selected_elements=n[10],Y(()=>s=!1)),!o&&_[0]&8&&(o=!0,h.elements=n[3],Y(()=>o=!1)),i.$set(h)},i(n){r||(L(i.$$.fragment,n),r=!0)},o(n){N(i.$$.fragment,n),r=!1},d(n){n&&(v(e),v(c)),re(i,n)}}}function ut(l){let e,t,c,i=l[18].length>0&&ze(l),s=l[0].length>0&&Me(l);return{c(){i&&i.c(),e=R(),s&&s.c(),t=fe()},l(o){i&&i.l(o),e=F(o),s&&s.l(o),t=fe()},m(o,r){i&&i.m(o,r),A(o,e,r),s&&s.m(o,r),A(o,t,r),c=!0},p(o,r){o[18].length>0?i?(i.p(o,r),r[0]&262144&&L(i,1)):(i=ze(o),i.c(),L(i,1),i.m(e.parentNode,e)):i&&(ce(),N(i,1,1,()=>{i=null}),ae()),o[0].length>0?s?(s.p(o,r),r[0]&1&&L(s,1)):(s=Me(o),s.c(),L(s,1),s.m(t.parentNode,t)):s&&(ce(),N(s,1,1,()=>{s=null}),ae())},i(o){c||(L(i),L(s),c=!0)},o(o){N(i),N(s),c=!1},d(o){o&&(v(e),v(t)),i&&i.d(o),s&&s.d(o)}}}function ze(l){let e,t="Technology",c,i,s,o,r;function a(n){l[41](n)}function k(n){l[42](n)}let u={};return l[16]!==void 0&&(u.selected_elements=l[16]),l[18]!==void 0&&(u.elements=l[18]),i=new Ee({props:u}),B.push(()=>U(i,"selected_elements",a)),B.push(()=>U(i,"elements",k)),i.$on("selection-changed",l[43]),{c(){e=H("h3"),e.textContent=t,c=R(),oe(i.$$.fragment)},l(n){e=T(n,"H3",{"data-svelte-h":!0}),Z(e)!=="svelte-q7cxxi"&&(e.textContent=t),c=F(n),ie(i.$$.fragment,n)},m(n,_){A(n,e,_),A(n,c,_),se(i,n,_),r=!0},p(n,_){const h={};!s&&_[0]&65536&&(s=!0,h.selected_elements=n[16],Y(()=>s=!1)),!o&&_[0]&262144&&(o=!0,h.elements=n[18],Y(()=>o=!1)),i.$set(h)},i(n){r||(L(i.$$.fragment,n),r=!0)},o(n){N(i.$$.fragment,n),r=!1},d(n){n&&(v(e),v(c)),re(i,n)}}}function Me(l){let e,t="Carrier",c,i,s,o,r;function a(n){l[44](n)}function k(n){l[45](n)}let u={};return l[15]!==void 0&&(u.selected_elements=l[15]),l[0]!==void 0&&(u.elements=l[0]),i=new Ee({props:u}),B.push(()=>U(i,"selected_elements",a)),B.push(()=>U(i,"elements",k)),i.$on("selection-changed",l[46]),{c(){e=H("h3"),e.textContent=t,c=R(),oe(i.$$.fragment)},l(n){e=T(n,"H3",{"data-svelte-h":!0}),Z(e)!=="svelte-xc22hm"&&(e.textContent=t),c=F(n),ie(i.$$.fragment,n)},m(n,_){A(n,e,_),A(n,c,_),se(i,n,_),r=!0},p(n,_){const h={};!s&&_[0]&32768&&(s=!0,h.selected_elements=n[15],Y(()=>s=!1)),!o&&_[0]&1&&(o=!0,h.elements=n[0],Y(()=>o=!1)),i.$set(h)},i(n){r||(L(i.$$.fragment,n),r=!0)},o(n){N(i.$$.fragment,n),r=!1},d(n){n&&(v(e),v(c)),re(i,n)}}}function dt(l){let e,t,c,i;const s=[mt,ht],o=[];function r(a,k){return a[11].length==0||a[11][0].data.length==0?0:1}return e=r(l),t=o[e]=s[e](l),{c(){t.c(),c=fe()},l(a){t.l(a),c=fe()},m(a,k){o[e].m(a,k),A(a,c,k),i=!0},p(a,k){let u=e;e=r(a),e===u?o[e].p(a,k):(ce(),N(o[u],1,1,()=>{o[u]=null}),ae(),t=o[e],t?t.p(a,k):(t=o[e]=s[e](a),t.c()),L(t,1),t.m(c.parentNode,c))},i(a){i||(L(t),i=!0)},o(a){N(t),i=!1},d(a){a&&v(c),o[e].d(a)}}}function pt(l){let e,t='<div class="spinner-border center" role="status"><span class="visually-hidden">Loading...</span></div>';return{c(){e=H("div"),e.innerHTML=t,this.h()},l(c){e=T(c,"DIV",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1a5ljpq"&&(e.innerHTML=t),this.h()},h(){D(e,"class","text-center")},m(c,i){A(c,e,i)},p:me,i:me,o:me,d(c){c&&v(e)}}}function ht(l){let e,t,c,i;function s(a){l[53](a)}function o(a){l[54](a)}let r={};return l[22]!==void 0&&(r.config=l[22]),l[21]!==void 0&&(r.plot_name=l[21]),e=new _t({props:r}),B.push(()=>U(e,"config",s)),B.push(()=>U(e,"plot_name",o)),{c(){oe(e.$$.fragment)},l(a){ie(e.$$.fragment,a)},m(a,k){se(e,a,k),i=!0},p(a,k){const u={};!t&&k[0]&4194304&&(t=!0,u.config=a[22],Y(()=>t=!1)),!c&&k[0]&2097152&&(c=!0,u.plot_name=a[21],Y(()=>c=!1)),e.$set(u)},i(a){i||(L(e.$$.fragment,a),i=!0)},o(a){N(e.$$.fragment,a),i=!1},d(a){re(e,a)}}}function mt(l){let e,t="No data with this selection.";return{c(){e=H("div"),e.textContent=t,this.h()},l(c){e=T(c,"DIV",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1doxial"&&(e.textContent=t),this.h()},h(){D(e,"class","text-center")},m(c,i){A(c,e,i)},p:me,i:me,o:me,d(c){c&&v(e)}}}function bt(l){let e,t="Emissions",c,i,s,o,r,a,k,u='<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Solution Selection</button>',n,_,h,b,C,K,G,I,m,V,j,O,w,g,d,z;function W(p){l[27](p)}function Q(p){l[28](p)}function q(p){l[29](p)}function ue(p){l[30](p)}function y(p){l[31](p)}let M={enabled:!l[19]&&!l[20]};l[0]!==void 0&&(M.carriers=l[0]),l[1]!==void 0&&(M.nodes=l[1]),l[2]!==void 0&&(M.years=l[2]),l[5]!==void 0&&(M.selected_solution=l[5]),l[19]!==void 0&&(M.loading=l[19]),b=new rt({props:M}),B.push(()=>U(b,"carriers",W)),B.push(()=>U(b,"nodes",Q)),B.push(()=>U(b,"years",q)),B.push(()=>U(b,"selected_solution",ue)),B.push(()=>U(b,"loading",y)),b.$on("solution_selected",l[26]);let S=!l[19]&&l[5]&&Te(l);const $=[pt,dt],X=[];function te(p,P){return p[19]||p[20]?0:p[11]!=null&&p[5]!=null?1:-1}return~(g=te(l))&&(d=X[g]=$[g](l)),{c(){e=H("h2"),e.textContent=t,c=R(),i=H("div"),s=H("div"),o=H("div"),r=H("div"),a=H("div"),k=H("h2"),k.innerHTML=u,n=R(),_=H("div"),h=H("div"),oe(b.$$.fragment),V=R(),S&&S.c(),j=R(),O=H("div"),w=H("div"),d&&d.c(),this.h()},l(p){e=T(p,"H2",{"data-svelte-h":!0}),Z(e)!=="svelte-1fjdwte"&&(e.textContent=t),c=F(p),i=T(p,"DIV",{class:!0});var P=J(i);s=T(P,"DIV",{class:!0,style:!0});var x=J(s);o=T(x,"DIV",{class:!0,style:!0});var _e=J(o);r=T(_e,"DIV",{class:!0,id:!0});var pe=J(r);a=T(pe,"DIV",{class:!0});var he=J(a);k=T(he,"H2",{class:!0,"data-svelte-h":!0}),Z(k)!=="svelte-64kjki"&&(k.innerHTML=u),n=F(he),_=T(he,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var ve=J(_);h=T(ve,"DIV",{class:!0});var ke=J(h);ie(b.$$.fragment,ke),ke.forEach(v),ve.forEach(v),he.forEach(v),V=F(pe),S&&S.l(pe),pe.forEach(v),_e.forEach(v),x.forEach(v),P.forEach(v),j=F(p),O=T(p,"DIV",{class:!0});var ye=J(O);w=T(ye,"DIV",{class:!0,style:!0});var Ce=J(w);d&&d.l(Ce),Ce.forEach(v),ye.forEach(v),this.h()},h(){D(k,"class","accordion-header"),D(h,"class","accordion-body"),D(_,"id","collapseOne"),D(_,"class","accordion-collapse collapse show"),D(_,"data-bs-parent","#accordionExample"),D(a,"class","accordion-item solution-selection"),D(r,"class","accordion"),D(r,"id","accordionExample"),D(o,"class","filters"),ge(o,"position","absolute"),ge(o,"width","100%"),D(s,"class","col position-relative"),ge(s,"z-index","1"),ge(s,"position","relative"),D(i,"class","row"),D(w,"class","col"),ge(w,"margin-top","400px"),D(O,"class","row")},m(p,P){A(p,e,P),A(p,c,P),A(p,i,P),E(i,s),E(s,o),E(o,r),E(r,a),E(a,k),E(a,n),E(a,_),E(_,h),se(b,h,null),E(r,V),S&&S.m(r,null),A(p,j,P),A(p,O,P),E(O,w),~g&&X[g].m(w,null),z=!0},p(p,P){const x={};P[0]&1572864&&(x.enabled=!p[19]&&!p[20]),!C&&P[0]&1&&(C=!0,x.carriers=p[0],Y(()=>C=!1)),!K&&P[0]&2&&(K=!0,x.nodes=p[1],Y(()=>K=!1)),!G&&P[0]&4&&(G=!0,x.years=p[2],Y(()=>G=!1)),!I&&P[0]&32&&(I=!0,x.selected_solution=p[5],Y(()=>I=!1)),!m&&P[0]&524288&&(m=!0,x.loading=p[19],Y(()=>m=!1)),b.$set(x),!p[19]&&p[5]?S?(S.p(p,P),P[0]&524320&&L(S,1)):(S=Te(p),S.c(),L(S,1),S.m(r,null)):S&&(ce(),N(S,1,1,()=>{S=null}),ae());let _e=g;g=te(p),g===_e?~g&&X[g].p(p,P):(d&&(ce(),N(X[_e],1,1,()=>{X[_e]=null}),ae()),~g?(d=X[g],d?d.p(p,P):(d=X[g]=$[g](p),d.c()),L(d,1),d.m(w,null)):d=null)},i(p){z||(L(b.$$.fragment,p),L(S),L(d),z=!0)},o(p){N(b.$$.fragment,p),N(S),N(d),z=!1},d(p){p&&(v(e),v(c),v(i),v(j),v(O)),re(b),S&&S.d(),~g&&X[g].d()}}}function gt(l,e,t){let c,i,s=[],o=[],r=[],a=[],k=["Annual","Cumulative"],u=["technology","carrier"],n=null,_=[],h=["not_normalized","normalized"],b="not_normalized",C=[],K=[],G=null,I=null,m=null,V=null,j=!1,O=[],w=[],g="technology",d=[],z=!1,W=!1,Q="plot",q={type:"bar",data:{datasets:[]},options:{responsive:!0,scales:{x:{stacked:!0,title:{display:!0,text:"Year"}},y:{stacked:!0,title:{display:!0,text:"Emissions ["+ue()+"]"}}}}};function ue(){return G==null?void 0:G.data[0][0]}function y(){t(12,m=null),t(13,V=null),t(11,I=null),t(15,O=[]),t(16,w=[]),j&&(t(13,V="technology_carrier"),S())}function M(){return j?V==u[0]?"carbon_emissions_technology":"carbon_emissions_carrier":m==k[0]?"carbon_emissions_annual":"carbon_emissions_cumulative"}async function S(){t(20,W=!0);let f=await we(n.solution_name,"carbon_emissions_technology",n.scenario_name,n.detail.system.reference_year,n.detail.system.interval_between_years),ee=await we(n.solution_name,"carbon_emissions_carrier",n.scenario_name,n.detail.system.reference_year,n.detail.system.interval_between_years),be=new Set,de=new Set,ne=new Set;for(let le of f.data.data)de.add(le.technology),ne.add(le.location);for(let le of ee.data.data){if(be.add(le.carrier),ne.add(le.node),Object.hasOwn(le,"node")){let Ie=Object.getOwnPropertyDescriptor(le,"node");if(Ie===void 0)continue;Object.defineProperty(le,"location",Ie)}delete le.node}t(18,d=[...de]),t(0,s=[...be]),t(3,a=[...ne]),c=ct("technology_carrier",[["carrier",ee.data],["technology",f.data]]),G=ee.unit,t(20,W=!1),X()}async function $(){t(20,W=!0),await it();let f=M();f!==null&&(f=="carbon_emissions_annual"?i=(await we(n.solution_name,"carbon_emissions_annual_limit",n.scenario_name,n.detail.system.reference_year,n.detail.system.interval_between_years)).data:i=null,we(n.solution_name,f,n.scenario_name,n.detail.system.reference_year,n.detail.system.interval_between_years).then(ee=>{c=ee.data,G=ee.unit,t(20,W=!1)}))}function X(){t(9,C=["location"]),V&&t(9,C=["location",V]),t(15,O=s),t(16,w=d),t(10,K=a),t(17,g="location"),t(20,W=!1),te()}function te(){if(!c)return;let f={},ee={};j&&(g!="location"?(f.location=a,ee.technology_carrier=w.concat(O)):(f.technology_carrier=d.concat(s),ee.location=K));let be=r.filter(ne=>!_.includes(ne));if(t(11,I=He(c.data,f,ee,be,b=="normalized")),I.length==0)return;if(I.length==1&&!j&&t(11,I[0].label=M(),I),i){let ne=He(i.data,f,ee,be,b=="normalized");ne.length>0&&(ne[0].label="Annual Emissions Limit",ne[0].type="line",t(11,I=I.concat(ne)))}t(22,q.data={datasets:I},q),t(22,q.options.scales.y.title.text="Emissions ["+ue()+"]",q);let de=n.solution_name.split(".");t(21,Q=[de[(de==null?void 0:de.length)-1],n==null?void 0:n.scenario_name,M()].join("_"))}function p(){y(),t(6,_=r)}function P(f){s=f,t(0,s)}function x(f){o=f,t(1,o)}function _e(f){r=f,t(2,r)}function pe(f){n=f,t(5,n)}function he(f){z=f,t(19,z)}function ve(){j=this.checked,t(14,j)}function ke(f){k=f,t(4,k)}function ye(f){m=f,t(12,m)}function Ce(f){C=f,t(9,C)}function Ne(f){g=f,t(17,g)}const Oe=f=>{te()};function Ae(f){h=f,t(7,h)}function Pe(f){b=f,t(8,b)}const qe=f=>{te()};function Be(f){w=f,t(16,w)}function Re(f){d=f,t(18,d)}const Fe=()=>{te()};function Ye(f){O=f,t(15,O)}function Ue(f){s=f,t(0,s)}const Ge=f=>{te()};function Je(f){K=f,t(10,K)}function Ke(f){a=f,t(3,a)}const Qe=f=>{te()};function We(f){_=f,t(6,_)}function Xe(f){r=f,t(2,r)}const Ze=f=>{te()};function $e(f){q=f,t(22,q)}function xe(f){Q=f,t(21,Q)}return[s,o,r,a,k,n,_,h,b,C,K,I,m,V,j,O,w,g,d,z,W,Q,q,y,$,te,p,P,x,_e,pe,he,ve,ke,ye,Ce,Ne,Oe,Ae,Pe,qe,Be,Re,Fe,Ye,Ue,Ge,Je,Ke,Qe,We,Xe,Ze,$e,xe]}class wt extends st{constructor(e){super(),at(this,e,gt,bt,et,{},null,[-1,-1,-1])}}export{wt as component};
