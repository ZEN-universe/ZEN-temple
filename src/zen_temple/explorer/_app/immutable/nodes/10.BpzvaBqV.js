import{s as ht,r as B,e as D,a as F,c as I,m as ee,g as R,b as O,f as v,o as T,w as Me,i as q,h as E,v as Y,z as Ye,A as Ie,B as Ve,C as Ge,D as Je,t as Ke,d as Qe,E as Te,j as Ue,F as Oe,n as Q}from"../chunks/scheduler.CM3yWj5-.js";import{S as gt,i as mt,b as G,c as ae,d as ce,m as _e,t as N,a as A,e as he,f as fe,g as ge}from"../chunks/index.Ben0jr7p.js";import{e as He}from"../chunks/each.D6YF6ztN.js";import{S as bt,c as vt,f as kt,B as Ct}from"../chunks/utils.CB6KrYor.js";import{A as Se}from"../chunks/AllCheckbox.CidvCSCk.js";import{R as Le}from"../chunks/Radio.jNYqAGS4.js";import{g as De}from"../chunks/variables.CqS7hfz2.js";function ze(n,e,t){const o=n.slice();return o[67]=e[t],o}function je(n,e,t){const o=n.slice();return o[70]=e[t][0],o[71]=e[t][1],o}function Ne(n){let e,t,o='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Variable Selection</button>',s,d,a,r,_,m,C,i,c,l,f=He(Object.entries(n[5])),k=[];for(let g=0;g<f.length;g+=1)k[g]=qe(je(n,f,g));let b=n[5]&&n[9]&&n[5][n[9]]!=null&&Pe(n),w=n[9]!=null&&n[0].length>0&&Ae(n);return{c(){e=D("div"),t=D("h2"),t.innerHTML=o,s=F(),d=D("div"),a=D("div"),r=D("select");for(let g=0;g<k.length;g+=1)k[g].c();m=F(),b&&b.c(),C=F(),w&&w.c(),this.h()},l(g){e=I(g,"DIV",{class:!0});var H=O(e);t=I(H,"H2",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-1b944yg"&&(t.innerHTML=o),s=R(H),d=I(H,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var V=O(d);a=I(V,"DIV",{class:!0});var P=O(a);r=I(P,"SELECT",{});var W=O(r);for(let j=0;j<k.length;j+=1)k[j].l(W);W.forEach(v),m=R(P),b&&b.l(P),C=R(P),w&&w.l(P),P.forEach(v),V.forEach(v),H.forEach(v),this.h()},h(){T(t,"class","accordion-header"),r.disabled=_=n[18]||n[19],n[9]===void 0&&Ye(()=>n[34].call(r)),T(a,"class","accordion-body"),T(d,"id","collapseTwo"),T(d,"class","accordion-collapse collapse"),T(d,"data-bs-parent","#accordionExample"),T(e,"class","accordion-item")},m(g,H){q(g,e,H),E(e,t),E(e,s),E(e,d),E(d,a),E(a,r);for(let V=0;V<k.length;V+=1)k[V]&&k[V].m(r,null);Ie(r,n[9],!0),E(a,m),b&&b.m(a,null),E(a,C),w&&w.m(a,null),i=!0,c||(l=[Ve(r,"change",n[34]),Ve(r,"change",n[35])],c=!0)},p(g,H){if(H[0]&32){f=He(Object.entries(g[5]));let V;for(V=0;V<f.length;V+=1){const P=je(g,f,V);k[V]?k[V].p(P,H):(k[V]=qe(P),k[V].c(),k[V].m(r,null))}for(;V<k.length;V+=1)k[V].d(1);k.length=f.length}(!i||H[0]&786432&&_!==(_=g[18]||g[19]))&&(r.disabled=_),H[0]&544&&Ie(r,g[9]),g[5]&&g[9]&&g[5][g[9]]!=null?b?(b.p(g,H),H[0]&544&&N(b,1)):(b=Pe(g),b.c(),N(b,1),b.m(a,C)):b&&(ge(),A(b,1,1,()=>{b=null}),he()),g[9]!=null&&g[0].length>0?w?w.p(g,H):(w=Ae(g),w.c(),w.m(a,null)):w&&(w.d(1),w=null)},i(g){i||(N(b),i=!0)},o(g){A(b),i=!1},d(g){g&&v(e),Ge(k,g),b&&b.d(),w&&w.d(),c=!1,Je(l)}}}function qe(n){let e,t=n[70]+"",o,s,d;return{c(){e=D("option"),o=Ke(t),s=F(),this.h()},l(a){e=I(a,"OPTION",{});var r=O(e);o=Qe(r,t),s=R(r),r.forEach(v),this.h()},h(){e.__value=d=n[70],Te(e,e.__value)},m(a,r){q(a,e,r),E(e,o),E(e,s)},p(a,r){r[0]&32&&t!==(t=a[70]+"")&&Ue(o,t),r[0]&32&&d!==(d=a[70])&&(e.__value=d,Te(e,e.__value))},d(a){a&&v(e)}}}function Pe(n){let e,t,o,s;function d(_){n[36](_)}function a(_){n[37](_)}let r={enabled:!n[18]&&!n[19]};return n[5][n[9]]!==void 0&&(r.options=n[5][n[9]]),n[14]!==void 0&&(r.selected_option=n[14]),e=new Le({props:r}),B.push(()=>G(e,"options",d)),B.push(()=>G(e,"selected_option",a)),e.$on("selection-changed",n[38]),{c(){ae(e.$$.fragment)},l(_){ce(e.$$.fragment,_)},m(_,m){_e(e,_,m),s=!0},p(_,m){const C={};m[0]&786432&&(C.enabled=!_[18]&&!_[19]),!t&&m[0]&544&&(t=!0,C.options=_[5][_[9]],Y(()=>t=!1)),!o&&m[0]&16384&&(o=!0,C.selected_option=_[14],Y(()=>o=!1)),e.$set(C)},i(_){s||(N(e.$$.fragment,_),s=!0)},o(_){A(e.$$.fragment,_),s=!1},d(_){fe(e,_)}}}function Ae(n){let e,t,o,s="Carrier",d,a,r,_,m,C=He(n[0]),i=[];for(let c=0;c<C.length;c+=1)i[c]=Be(ze(n,C,c));return{c(){e=D("div"),t=D("div"),o=D("h3"),o.textContent=s,d=F(),a=D("select");for(let c=0;c<i.length;c+=1)i[c].c();this.h()},l(c){e=I(c,"DIV",{class:!0});var l=O(e);t=I(l,"DIV",{class:!0});var f=O(t);o=I(f,"H3",{"data-svelte-h":!0}),ee(o)!=="svelte-xc22hm"&&(o.textContent=s),d=R(f),a=I(f,"SELECT",{});var k=O(a);for(let b=0;b<i.length;b+=1)i[b].l(k);k.forEach(v),f.forEach(v),l.forEach(v),this.h()},h(){a.disabled=r=n[18]||n[19],n[10]===void 0&&Ye(()=>n[39].call(a)),T(t,"class","col"),T(e,"class","row")},m(c,l){q(c,e,l),E(e,t),E(t,o),E(t,d),E(t,a);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(a,null);Ie(a,n[10],!0),_||(m=[Ve(a,"change",n[39]),Ve(a,"change",n[40])],_=!0)},p(c,l){if(l[0]&1){C=He(c[0]);let f;for(f=0;f<C.length;f+=1){const k=ze(c,C,f);i[f]?i[f].p(k,l):(i[f]=Be(k),i[f].c(),i[f].m(a,null))}for(;f<i.length;f+=1)i[f].d(1);i.length=C.length}l[0]&786432&&r!==(r=c[18]||c[19])&&(a.disabled=r),l[0]&1025&&Ie(a,c[10])},d(c){c&&v(e),Ge(i,c),_=!1,Je(m)}}}function Be(n){let e,t=n[67]+"",o,s,d;return{c(){e=D("option"),o=Ke(t),s=F(),this.h()},l(a){e=I(a,"OPTION",{});var r=O(e);o=Qe(r,t),s=R(r),r.forEach(v),this.h()},h(){e.__value=d=n[67],Te(e,e.__value)},m(a,r){q(a,e,r),E(e,o),E(e,s)},p(a,r){r[0]&1&&t!==(t=a[67]+"")&&Ue(o,t),r[0]&1&&d!==(d=a[67])&&(e.__value=d,Te(e,e.__value))},d(a){a&&v(e)}}}function Fe(n){let e,t,o='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">Data Selection</button>',s,d,a,r,_,m,C,i="Normalisation",c,l,f,k,b,w,g,H,V,P="Year",W,j,X,Z,z,y=n[9]!="import_export"&&Re(n);function x(h){n[44](h)}function ie(h){n[45](h)}let oe={enabled:!n[18]&&!n[19]};n[16]!==void 0&&(oe.options=n[16]),n[17]!==void 0&&(oe.selected_option=n[17]),l=new Le({props:oe}),B.push(()=>G(l,"options",x)),B.push(()=>G(l,"selected_option",ie)),l.$on("selection-changed",n[46]);const ue=[Et,wt],te=[];function de(h,S){return h[21]=="technology"?0:1}w=de(n),g=te[w]=ue[w](n);function me(h){n[53](h)}function ne(h){n[54](h)}let M={enabled:!n[18]&&!n[19]};return n[15]!==void 0&&(M.selected_elements=n[15]),n[4]!==void 0&&(M.elements=n[4]),j=new Se({props:M}),B.push(()=>G(j,"selected_elements",me)),B.push(()=>G(j,"elements",ne)),j.$on("selection-changed",n[55]),{c(){e=D("div"),t=D("h2"),t.innerHTML=o,s=F(),d=D("div"),a=D("div"),r=D("div"),y&&y.c(),_=F(),m=D("div"),C=D("h3"),C.textContent=i,c=F(),ae(l.$$.fragment),b=F(),g.c(),H=F(),V=D("h3"),V.textContent=P,W=F(),ae(j.$$.fragment),this.h()},l(h){e=I(h,"DIV",{class:!0});var S=O(e);t=I(S,"H2",{class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-hz94lo"&&(t.innerHTML=o),s=R(S),d=I(S,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var J=O(d);a=I(J,"DIV",{class:!0});var U=O(a);r=I(U,"DIV",{class:!0});var u=O(r);y&&y.l(u),_=R(u),m=I(u,"DIV",{class:!0});var L=O(m);C=I(L,"H3",{"data-svelte-h":!0}),ee(C)!=="svelte-1273uzu"&&(C.textContent=i),c=R(L),ce(l.$$.fragment,L),L.forEach(v),u.forEach(v),b=R(U),g.l(U),H=R(U),V=I(U,"H3",{"data-svelte-h":!0}),ee(V)!=="svelte-r9e7qt"&&(V.textContent=P),W=R(U),ce(j.$$.fragment,U),U.forEach(v),J.forEach(v),S.forEach(v),this.h()},h(){T(t,"class","accordion-header"),T(m,"class","col-6"),T(r,"class","row"),T(a,"class","accordion-body"),T(d,"id","collapseThree"),T(d,"class","accordion-collapse collapse"),T(d,"data-bs-parent","#accordionExample"),T(e,"class","accordion-item")},m(h,S){q(h,e,S),E(e,t),E(e,s),E(e,d),E(d,a),E(a,r),y&&y.m(r,null),E(r,_),E(r,m),E(m,C),E(m,c),_e(l,m,null),E(a,b),te[w].m(a,null),E(a,H),E(a,V),E(a,W),_e(j,a,null),z=!0},p(h,S){h[9]!="import_export"?y?(y.p(h,S),S[0]&512&&N(y,1)):(y=Re(h),y.c(),N(y,1),y.m(r,_)):y&&(ge(),A(y,1,1,()=>{y=null}),he());const J={};S[0]&786432&&(J.enabled=!h[18]&&!h[19]),!f&&S[0]&65536&&(f=!0,J.options=h[16],Y(()=>f=!1)),!k&&S[0]&131072&&(k=!0,J.selected_option=h[17],Y(()=>k=!1)),l.$set(J);let U=w;w=de(h),w===U?te[w].p(h,S):(ge(),A(te[U],1,1,()=>{te[U]=null}),he(),g=te[w],g?g.p(h,S):(g=te[w]=ue[w](h),g.c()),N(g,1),g.m(a,H));const u={};S[0]&786432&&(u.enabled=!h[18]&&!h[19]),!X&&S[0]&32768&&(X=!0,u.selected_elements=h[15],Y(()=>X=!1)),!Z&&S[0]&16&&(Z=!0,u.elements=h[4],Y(()=>Z=!1)),j.$set(u)},i(h){z||(N(y),N(l.$$.fragment,h),N(g),N(j.$$.fragment,h),z=!0)},o(h){A(y),A(l.$$.fragment,h),A(g),A(j.$$.fragment,h),z=!1},d(h){h&&v(e),y&&y.d(),fe(l),te[w].d(),fe(j)}}}function Re(n){let e,t,o="Aggregation",s,d,a,r,_;function m(c){n[41](c)}function C(c){n[42](c)}let i={enabled:!n[18]&&!n[19]};return n[6]!==void 0&&(i.options=n[6]),n[21]!==void 0&&(i.selected_option=n[21]),d=new Le({props:i}),B.push(()=>G(d,"options",m)),B.push(()=>G(d,"selected_option",C)),d.$on("selection-changed",n[43]),{c(){e=D("div"),t=D("h3"),t.textContent=o,s=F(),ae(d.$$.fragment),this.h()},l(c){e=I(c,"DIV",{class:!0});var l=O(e);t=I(l,"H3",{"data-svelte-h":!0}),ee(t)!=="svelte-126hufg"&&(t.textContent=o),s=R(l),ce(d.$$.fragment,l),l.forEach(v),this.h()},h(){T(e,"class","col-6")},m(c,l){q(c,e,l),E(e,t),E(e,s),_e(d,e,null),_=!0},p(c,l){const f={};l[0]&786432&&(f.enabled=!c[18]&&!c[19]),!a&&l[0]&64&&(a=!0,f.options=c[6],Y(()=>a=!1)),!r&&l[0]&2097152&&(r=!0,f.selected_option=c[21],Y(()=>r=!1)),d.$set(f)},i(c){_||(N(d.$$.fragment,c),_=!0)},o(c){A(d.$$.fragment,c),_=!1},d(c){c&&v(e),fe(d)}}}function wt(n){let e,t="Node",o,s,d,a,r;function _(i){n[50](i)}function m(i){n[51](i)}let C={enabled:!n[18]&&!n[19]};return n[13]!==void 0&&(C.selected_elements=n[13]),n[3]!==void 0&&(C.elements=n[3]),s=new Se({props:C}),B.push(()=>G(s,"selected_elements",_)),B.push(()=>G(s,"elements",m)),s.$on("selection-changed",n[52]),{c(){e=D("h3"),e.textContent=t,o=F(),ae(s.$$.fragment)},l(i){e=I(i,"H3",{"data-svelte-h":!0}),ee(e)!=="svelte-ocjo5w"&&(e.textContent=t),o=R(i),ce(s.$$.fragment,i)},m(i,c){q(i,e,c),q(i,o,c),_e(s,i,c),r=!0},p(i,c){const l={};c[0]&786432&&(l.enabled=!i[18]&&!i[19]),!d&&c[0]&8192&&(d=!0,l.selected_elements=i[13],Y(()=>d=!1)),!a&&c[0]&8&&(a=!0,l.elements=i[3],Y(()=>a=!1)),s.$set(l)},i(i){r||(N(s.$$.fragment,i),r=!0)},o(i){A(s.$$.fragment,i),r=!1},d(i){i&&(v(e),v(o)),fe(s,i)}}}function Et(n){let e,t="Technology",o,s,d,a,r;function _(i){n[47](i)}function m(i){n[48](i)}let C={enabled:!n[18]&&!n[19]};return n[12]!==void 0&&(C.selected_elements=n[12]),n[11]!==void 0&&(C.elements=n[11]),s=new Se({props:C}),B.push(()=>G(s,"selected_elements",_)),B.push(()=>G(s,"elements",m)),s.$on("selection-changed",n[49]),{c(){e=D("h3"),e.textContent=t,o=F(),ae(s.$$.fragment)},l(i){e=I(i,"H3",{"data-svelte-h":!0}),ee(e)!=="svelte-q7cxxi"&&(e.textContent=t),o=R(i),ce(s.$$.fragment,i)},m(i,c){q(i,e,c),q(i,o,c),_e(s,i,c),r=!0},p(i,c){const l={};c[0]&786432&&(l.enabled=!i[18]&&!i[19]),!d&&c[0]&4096&&(d=!0,l.selected_elements=i[12],Y(()=>d=!1)),!a&&c[0]&2048&&(a=!0,l.elements=i[11],Y(()=>a=!1)),s.$set(l)},i(i){r||(N(s.$$.fragment,i),r=!0)},o(i){A(s.$$.fragment,i),r=!1},d(i){i&&(v(e),v(o)),fe(s,i)}}}function Dt(n){let e,t,o,s;function d(_){n[56](_)}function a(_){n[57](_)}let r={};return n[22]!==void 0&&(r.config=n[22]),n[20]!==void 0&&(r.plot_name=n[20]),e=new Ct({props:r}),B.push(()=>G(e,"config",d)),B.push(()=>G(e,"plot_name",a)),{c(){ae(e.$$.fragment)},l(_){ce(e.$$.fragment,_)},m(_,m){_e(e,_,m),s=!0},p(_,m){const C={};!t&&m[0]&4194304&&(t=!0,C.config=_[22],Y(()=>t=!1)),!o&&m[0]&1048576&&(o=!0,C.plot_name=_[20],Y(()=>o=!1)),e.$set(C)},i(_){s||(N(e.$$.fragment,_),s=!0)},o(_){A(e.$$.fragment,_),s=!1},d(_){fe(e,_)}}}function It(n){let e,t="No data with this selection.";return{c(){e=D("div"),e.textContent=t,this.h()},l(o){e=I(o,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1doxial"&&(e.textContent=t),this.h()},h(){T(e,"class","text-center")},m(o,s){q(o,e,s)},p:Q,i:Q,o:Q,d(o){o&&v(e)}}}function Vt(n){let e,t="No carriers with this selection.";return{c(){e=D("div"),e.textContent=t,this.h()},l(o){e=I(o,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1wht3n0"&&(e.textContent=t),this.h()},h(){T(e,"class","text-center")},m(o,s){q(o,e,s)},p:Q,i:Q,o:Q,d(o){o&&v(e)}}}function Tt(n){let e,t="No technologies with this selection.";return{c(){e=D("div"),e.textContent=t,this.h()},l(o){e=I(o,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1ontq7"&&(e.textContent=t),this.h()},h(){T(e,"class","text-center")},m(o,s){q(o,e,s)},p:Q,i:Q,o:Q,d(o){o&&v(e)}}}function Ht(n){let e;return{c(){e=D("div")},l(t){e=I(t,"DIV",{}),O(e).forEach(v)},m(t,o){q(t,e,o)},p:Q,i:Q,o:Q,d(t){t&&v(e)}}}function yt(n){let e;return{c(){e=D("div")},l(t){e=I(t,"DIV",{}),O(e).forEach(v)},m(t,o){q(t,e,o)},p:Q,i:Q,o:Q,d(t){t&&v(e)}}}function St(n){let e,t='<div class="spinner-border center" role="status"><span class="visually-hidden">Loading...</span></div>';return{c(){e=D("div"),e.innerHTML=t,this.h()},l(o){e=I(o,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1a5ljpq"&&(e.innerHTML=t),this.h()},h(){T(e,"class","text-center")},m(o,s){q(o,e,s)},p:Q,i:Q,o:Q,d(o){o&&v(e)}}}function Lt(n){let e,t='<div class="col"><h2>Production</h2></div>',o,s,d,a,r,_,m,C='<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Solution Selection</button>',i,c,l,f,k,b,w,g,H,V,P,W,j,X,Z,z,y,x;function ie(u){n[27](u)}function oe(u){n[28](u)}function ue(u){n[29](u)}function te(u){n[30](u)}function de(u){n[31](u)}function me(u){n[32](u)}let ne={enabled:!n[18]&&!n[19]};n[0]!==void 0&&(ne.carriers=n[0]),n[1]!==void 0&&(ne.nodes=n[1]),n[4]!==void 0&&(ne.years=n[4]),n[8]!==void 0&&(ne.selected_solution=n[8]),n[2]!==void 0&&(ne.edges=n[2]),n[18]!==void 0&&(ne.loading=n[18]),f=new bt({props:ne}),B.push(()=>G(f,"carriers",ie)),B.push(()=>G(f,"nodes",oe)),B.push(()=>G(f,"years",ue)),B.push(()=>G(f,"selected_solution",te)),B.push(()=>G(f,"edges",de)),B.push(()=>G(f,"loading",me)),f.$on("solution_selected",n[33]);let M=!n[18]&&n[8]&&Ne(n),h=!n[19]&&n[10]&&(n[11].length>0||n[9]=="import_export")&&Fe(n);const S=[St,yt,Ht,Tt,Vt,It,Dt],J=[];function U(u,L){return u[18]||u[19]?0:u[8]==null?1:u[7]==null?2:u[11].length==0&&u[9]!="import_export"?3:u[0].length==0?4:u[7].length==0?5:6}return z=U(n),y=J[z]=S[z](n),{c(){e=D("div"),e.innerHTML=t,o=F(),s=D("div"),d=D("div"),a=D("div"),r=D("div"),_=D("div"),m=D("h2"),m.innerHTML=C,i=F(),c=D("div"),l=D("div"),ae(f.$$.fragment),P=F(),M&&M.c(),W=F(),h&&h.c(),j=F(),X=D("div"),Z=D("div"),y.c(),this.h()},l(u){e=I(u,"DIV",{class:!0,"data-svelte-h":!0}),ee(e)!=="svelte-1ow2g6f"&&(e.innerHTML=t),o=R(u),s=I(u,"DIV",{class:!0});var L=O(s);d=I(L,"DIV",{class:!0,style:!0});var le=O(d);a=I(le,"DIV",{class:!0});var se=O(a);r=I(se,"DIV",{class:!0,id:!0});var re=O(r);_=I(re,"DIV",{class:!0});var pe=O(_);m=I(pe,"H2",{class:!0,"data-svelte-h":!0}),ee(m)!=="svelte-64kjki"&&(m.innerHTML=C),i=R(pe),c=I(pe,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var be=O(c);l=I(be,"DIV",{class:!0});var ve=O(l);ce(f.$$.fragment,ve),ve.forEach(v),be.forEach(v),pe.forEach(v),P=R(re),M&&M.l(re),W=R(re),h&&h.l(re),re.forEach(v),se.forEach(v),le.forEach(v),L.forEach(v),j=R(u),X=I(u,"DIV",{class:!0});var ke=O(X);Z=I(ke,"DIV",{class:!0});var Ce=O(Z);y.l(Ce),Ce.forEach(v),ke.forEach(v),this.h()},h(){T(e,"class","row"),T(m,"class","accordion-header"),T(l,"class","accordion-body"),T(c,"id","collapseOne"),T(c,"class","accordion-collapse collapse show"),T(c,"data-bs-parent","#accordionExample"),T(_,"class","accordion-item solution-selection"),T(r,"class","accordion"),T(r,"id","accordionExample"),T(a,"class","filters"),T(d,"class","col position-relative"),Me(d,"z-index","1"),Me(d,"position","relative"),T(s,"class","row"),T(Z,"class","col mt-4"),T(X,"class","row")},m(u,L){q(u,e,L),q(u,o,L),q(u,s,L),E(s,d),E(d,a),E(a,r),E(r,_),E(_,m),E(_,i),E(_,c),E(c,l),_e(f,l,null),E(r,P),M&&M.m(r,null),E(r,W),h&&h.m(r,null),q(u,j,L),q(u,X,L),E(X,Z),J[z].m(Z,null),x=!0},p(u,L){const le={};L[0]&786432&&(le.enabled=!u[18]&&!u[19]),!k&&L[0]&1&&(k=!0,le.carriers=u[0],Y(()=>k=!1)),!b&&L[0]&2&&(b=!0,le.nodes=u[1],Y(()=>b=!1)),!w&&L[0]&16&&(w=!0,le.years=u[4],Y(()=>w=!1)),!g&&L[0]&256&&(g=!0,le.selected_solution=u[8],Y(()=>g=!1)),!H&&L[0]&4&&(H=!0,le.edges=u[2],Y(()=>H=!1)),!V&&L[0]&262144&&(V=!0,le.loading=u[18],Y(()=>V=!1)),f.$set(le),!u[18]&&u[8]?M?(M.p(u,L),L[0]&262400&&N(M,1)):(M=Ne(u),M.c(),N(M,1),M.m(r,W)):M&&(ge(),A(M,1,1,()=>{M=null}),he()),!u[19]&&u[10]&&(u[11].length>0||u[9]=="import_export")?h?(h.p(u,L),L[0]&527872&&N(h,1)):(h=Fe(u),h.c(),N(h,1),h.m(r,null)):h&&(ge(),A(h,1,1,()=>{h=null}),he());let se=z;z=U(u),z===se?J[z].p(u,L):(ge(),A(J[se],1,1,()=>{J[se]=null}),he(),y=J[z],y?y.p(u,L):(y=J[z]=S[z](u),y.c()),N(y,1),y.m(Z,null))},i(u){x||(N(f.$$.fragment,u),N(M),N(h),N(y),x=!0)},o(u){A(f.$$.fragment,u),A(M),A(h),A(y),x=!1},d(u){u&&(v(e),v(o),v(s),v(j),v(X)),fe(f),M&&M.d(),h&&h.d(),J[z].d()}}}function Mt(n,e,t){let o=null,s=[],d=[],a=[],r=[],_=[],m={conversion:["input","output"],storage:["charge","discharge"],transport:null,import_export:["import","export"]},C=["technology","node"],i=null,c=null,l=null,f=null,k=null,b=[],w=[],g=[],H=null,V=[],P=["not_normalized","normalized"],W="not_normalized",j=!1,X=!1,Z="plot",z="node",x={type:"bar",data:{datasets:[]},options:{responsive:!0,scales:{x:{stacked:!0,title:{display:!0,text:"Year"}},y:{stacked:!0,title:{display:!0,text:f+" ["+te()+"]"}}}}};function ie(){de().then(()=>{me(),ne(),M(),S()})}function oe(){t(15,V=_),t(13,g=d),t(12,w=b)}function ue(){switch(f){case"conversion":return"flow_conversion_"+H;case"storage":return"flow_storage_"+H;case"transport":return"flow_transport";case"import_export":return"flow_"+H;default:return null}}function te(){if(c===null)return"";for(const p of c.data)if(b[0]==p.technology&&(p.carrier==k||p.carrier===void 0))return p[0];return""}async function de(){t(19,X=!0),o=null;let p=ue();if(p===null){t(19,X=!1);return}p=De(p,l==null?void 0:l.version);let K=await vt(l.solution_name,p,l.scenario_name,l.detail.system.reference_year,l.detail.system.interval_between_years);K.data!==null&&(o=K.data,c=K.unit,t(19,X=!1))}function me(){if(o==null){t(0,s=[]);return}if(l==null){t(0,s=[]);return}t(7,i=null),t(10,k="");let p=new Set(o.data.map($=>$.technology)),K=[...new Set([...p].map($=>l==null?void 0:l.detail.reference_carrier[$]))];switch(f=="import_export"&&(K=[...new Set(o.data.map($=>$.carrier))]),f){case De("import_export",l==null?void 0:l.version):H=="import"?t(0,s=l.detail.carriers_import):t(0,s=l.detail.carriers_export);break;case De("conversion",l==null?void 0:l.version):let $=l.detail.carriers_output;H=="input"&&($=l.detail.carriers_input),t(0,s=[]);for(const ye in $)t(0,s=[...new Set([...s,...$[ye]])]);break;default:t(0,s=l.detail.system.set_carriers)}t(0,s=s.filter($=>K.includes($))),s.length==1&&t(10,k=s[0]),oe()}function ne(){if(t(7,i=[]),f!=null&&k!=null){switch(t(11,b=(l==null?void 0:l.detail.system.set_technologies)??[]),f){case"conversion":t(11,b=[]);let p=l.detail.carriers_input;H=="output"&&(p=l.detail.carriers_output);for(const K in p)p[K].includes(k)&&b.push(K);break;case"storage":t(11,b=(l==null?void 0:l.detail.system.set_storage_technologies.filter(K=>(l==null?void 0:l.detail.reference_carrier[K])==k))??[]);break;case"transport":t(11,b=(l==null?void 0:l.detail.system.set_transport_technologies.filter(K=>(l==null?void 0:l.detail.reference_carrier[K])==k))??[]);break;case"import_export":t(11,b=[]);break}b.length==1&&t(12,w=[b[0]]),oe()}}function M(){t(3,r=d),f=="transport"&&t(3,r=a),oe()}function h(){t(7,i=[]),f!=null&&(m[f]!=null&&t(14,H=m[f][0]),f=="import_export"&&t(21,z="technology"))}function S(){if(f=="import_export"&&t(21,z="node"),z=="technology"?t(13,g=d):t(12,w=b),g.length==0||V.length==0||w.length==0&&f!="import_export"||!o){t(7,i=[]);return}let p={},K={},$="node";f=="transport"&&($="edge"),f=="import_export"?(p[$]=g,K.carrier=[k]):z=="technology"?(p[$]=g,K.technology=w):(p.technology=w,K[$]=g);let ye=_.filter(Ee=>!V.includes(Ee)),pt=o.data.filter(Ee=>Ee.carrier===void 0||Ee.carrier==k);t(7,i=kt(pt,p,K,ye,W=="normalized")),t(22,x.data={datasets:i},x),t(22,x.options.scales.y.title.text=f+" ["+te()+"]",x);let we=l.solution_name.split(".");t(20,Z=[we[(we==null?void 0:we.length)-1],l==null?void 0:l.scenario_name,De(ue(),l==null?void 0:l.version),k].join("_"))}function J(p){s=p,t(0,s)}function U(p){d=p,t(1,d)}function u(p){_=p,t(4,_)}function L(p){l=p,t(8,l)}function le(p){a=p,t(2,a)}function se(p){j=p,t(18,j)}const re=()=>{ie()};function pe(){f=Oe(this),t(9,f),t(5,m)}const be=()=>{h(),ie()};function ve(p){n.$$.not_equal(m[f],p)&&(m[f]=p,t(5,m))}function ke(p){H=p,t(14,H)}const Ce=p=>{ie()};function We(){k=Oe(this),t(10,k),t(0,s)}const Xe=()=>{ne(),S()};function Ze(p){C=p,t(6,C)}function $e(p){z=p,t(21,z)}const xe=p=>{S()};function et(p){P=p,t(16,P)}function tt(p){W=p,t(17,W)}const nt=p=>{S()};function lt(p){w=p,t(12,w)}function ot(p){b=p,t(11,b)}const it=()=>{S()};function st(p){g=p,t(13,g)}function rt(p){r=p,t(3,r)}const at=p=>{S()};function ct(p){V=p,t(15,V)}function _t(p){_=p,t(4,_)}const ft=p=>{S()};function ut(p){x=p,t(22,x)}function dt(p){Z=p,t(20,Z)}return[s,d,a,r,_,m,C,i,l,f,k,b,w,g,H,V,P,W,j,X,Z,z,x,ie,ne,h,S,J,U,u,L,le,se,re,pe,be,ve,ke,Ce,We,Xe,Ze,$e,xe,et,tt,nt,lt,ot,it,st,rt,at,ct,_t,ft,ut,dt]}class Bt extends gt{constructor(e){super(),mt(this,e,Mt,Lt,ht,{},null,[-1,-1,-1])}}export{Bt as component};
