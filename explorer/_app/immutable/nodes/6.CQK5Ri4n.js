import{s as gt,r as Q,e as w,a as A,c as I,m as X,g as P,b as q,f as g,o as N,v as Se,i as M,h as D,w as U,x as Te,y as qe,z as ve,A as ke,B as ze,C as je,t as Ie,d as De,D as He,n as B,j as Ze,E as Me,F as Pe}from"../chunks/scheduler.BXxlKFsS.js";import{S as bt,i as mt,b as W,c as de,d as he,m as pe,t as j,a as G,e as ye,f as ge,g as Ce}from"../chunks/index.ElVQI2Jj.js";import{e as Ee}from"../chunks/each.D6YF6ztN.js";import{S as vt,f as kt,B as yt,g as Ct}from"../chunks/utils.BGVeK_Qy.js";import{R as Oe,A as Ae}from"../chunks/Radio.CsVFdhy-.js";function Be(t,e,l){const o=t.slice();return o[68]=e[l],o}function Ye(t,e,l){const o=t.slice();return o[71]=e[l],o}function Fe(t,e,l){const o=t.slice();return o[74]=e[l],o}function Re(t){let e,l,o='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Variable Selection</button>',n,f,i,d,a="Variable",v,b,s,r,_,c,h,k,O,Z,F=Ee(t[23]),y=[];for(let u=0;u<F.length;u+=1)y[u]=Ge(Fe(t,F,u));let V=t[10]!=null&&Je(t),E=t[14]!=null&&t[2].length>0&&Ue(t),C=t[0]&&t[14]&&t[11]&&t[5].length>0&&t[3].length>0&&Xe(t);return{c(){e=w("div"),l=w("h2"),l.innerHTML=o,n=A(),f=w("div"),i=w("div"),d=w("h3"),d.textContent=a,v=A(),b=w("select");for(let u=0;u<y.length;u+=1)y[u].c();r=A(),V&&V.c(),_=A(),E&&E.c(),c=A(),C&&C.c(),h=Te(),this.h()},l(u){e=I(u,"DIV",{class:!0});var T=q(e);l=I(T,"H2",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-1b944yg"&&(l.innerHTML=o),n=P(T),f=I(T,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var S=q(f);i=I(S,"DIV",{class:!0});var Y=q(i);d=I(Y,"H3",{"data-svelte-h":!0}),X(d)!=="svelte-aqa7bk"&&(d.textContent=a),v=P(Y),b=I(Y,"SELECT",{});var $=q(b);for(let L=0;L<y.length;L+=1)y[L].l($);$.forEach(g),r=P(Y),V&&V.l(Y),_=P(Y),E&&E.l(Y),Y.forEach(g),S.forEach(g),T.forEach(g),c=P(u),C&&C.l(u),h=Te(),this.h()},h(){N(l,"class","accordion-header"),b.disabled=s=t[20]||t[19],t[10]===void 0&&qe(()=>t[33].call(b)),N(i,"class","accordion-body"),N(f,"id","collapseTwo"),N(f,"class","accordion-collapse collapse"),N(f,"data-bs-parent","#accordionExample"),N(e,"class","accordion-item variable-selection")},m(u,T){M(u,e,T),D(e,l),D(e,n),D(e,f),D(f,i),D(i,d),D(i,v),D(i,b);for(let S=0;S<y.length;S+=1)y[S]&&y[S].m(b,null);ve(b,t[10],!0),D(i,r),V&&V.m(i,null),D(i,_),E&&E.m(i,null),M(u,c,T),C&&C.m(u,T),M(u,h,T),k=!0,O||(Z=[ke(b,"change",t[33]),ke(b,"change",t[34])],O=!0)},p(u,T){if(T[0]&8388608){F=Ee(u[23]);let S;for(S=0;S<F.length;S+=1){const Y=Fe(u,F,S);y[S]?y[S].p(Y,T):(y[S]=Ge(Y),y[S].c(),y[S].m(b,null))}for(;S<y.length;S+=1)y[S].d(1);y.length=F.length}(!k||T[0]&1572864&&s!==(s=u[20]||u[19]))&&(b.disabled=s),T[0]&8389632&&ve(b,u[10]),u[10]!=null?V?(V.p(u,T),T[0]&1024&&j(V,1)):(V=Je(u),V.c(),j(V,1),V.m(i,_)):V&&(Ce(),G(V,1,1,()=>{V=null}),ye()),u[14]!=null&&u[2].length>0?E?E.p(u,T):(E=Ue(u),E.c(),E.m(i,null)):E&&(E.d(1),E=null),u[0]&&u[14]&&u[11]&&u[5].length>0&&u[3].length>0?C?(C.p(u,T),T[0]&18473&&j(C,1)):(C=Xe(u),C.c(),j(C,1),C.m(h.parentNode,h)):C&&(Ce(),G(C,1,1,()=>{C=null}),ye())},i(u){k||(j(V),j(C),k=!0)},o(u){G(V),G(C),k=!1},d(u){u&&(g(e),g(c),g(h)),ze(y,u),V&&V.d(),E&&E.d(),C&&C.d(u),O=!1,je(Z)}}}function Ge(t){let e,l=t[74]+"",o,n;return{c(){e=w("option"),o=Ie(l),n=A(),this.h()},l(f){e=I(f,"OPTION",{});var i=q(e);o=De(i,l),n=P(i),i.forEach(g),this.h()},h(){e.__value=t[74],He(e,e.__value)},m(f,i){M(f,e,i),D(e,o),D(e,n)},p:B,d(f){f&&g(e)}}}function Je(t){let e,l="Technology Type",o,n,f,i,d,a,v,b,s=Ee(t[22]),r=[];for(let c=0;c<s.length;c+=1)r[c]=Ke(Ye(t,s,c));let _=t[14]=="storage"&&Qe(t);return{c(){e=w("h3"),e.textContent=l,o=A(),n=w("select");for(let c=0;c<r.length;c+=1)r[c].c();i=A(),_&&_.c(),d=Te(),this.h()},l(c){e=I(c,"H3",{"data-svelte-h":!0}),X(e)!=="svelte-9vgt34"&&(e.textContent=l),o=P(c),n=I(c,"SELECT",{});var h=q(n);for(let k=0;k<r.length;k+=1)r[k].l(h);h.forEach(g),i=P(c),_&&_.l(c),d=Te(),this.h()},h(){n.disabled=f=t[20]||t[19],t[14]===void 0&&qe(()=>t[35].call(n))},m(c,h){M(c,e,h),M(c,o,h),M(c,n,h);for(let k=0;k<r.length;k+=1)r[k]&&r[k].m(n,null);ve(n,t[14],!0),M(c,i,h),_&&_.m(c,h),M(c,d,h),a=!0,v||(b=[ke(n,"change",t[35]),ke(n,"change",t[36])],v=!0)},p(c,h){if(h[0]&4194304){s=Ee(c[22]);let k;for(k=0;k<s.length;k+=1){const O=Ye(c,s,k);r[k]?r[k].p(O,h):(r[k]=Ke(O),r[k].c(),r[k].m(n,null))}for(;k<r.length;k+=1)r[k].d(1);r.length=s.length}(!a||h[0]&1572864&&f!==(f=c[20]||c[19]))&&(n.disabled=f),h[0]&4210688&&ve(n,c[14]),c[14]=="storage"?_?(_.p(c,h),h[0]&16384&&j(_,1)):(_=Qe(c),_.c(),j(_,1),_.m(d.parentNode,d)):_&&(Ce(),G(_,1,1,()=>{_=null}),ye())},i(c){a||(j(_),a=!0)},o(c){G(_),a=!1},d(c){c&&(g(e),g(o),g(n),g(i),g(d)),ze(r,c),_&&_.d(c),v=!1,je(b)}}}function Ke(t){let e,l=t[71]+"",o,n;return{c(){e=w("option"),o=Ie(l),n=A(),this.h()},l(f){e=I(f,"OPTION",{});var i=q(e);o=De(i,l),n=P(i),i.forEach(g),this.h()},h(){e.__value=t[71],He(e,e.__value)},m(f,i){M(f,e,i),D(e,o),D(e,n)},p:B,d(f){f&&g(e)}}}function Qe(t){let e,l,o,n;function f(a){t[37](a)}function i(a){t[38](a)}let d={enabled:!t[20]&&!t[19]};return t[9]!==void 0&&(d.options=t[9]),t[12]!==void 0&&(d.selected_option=t[12]),e=new Oe({props:d}),Q.push(()=>W(e,"options",f)),Q.push(()=>W(e,"selected_option",i)),e.$on("selection-changed",t[39]),{c(){de(e.$$.fragment)},l(a){he(e.$$.fragment,a)},m(a,v){pe(e,a,v),n=!0},p(a,v){const b={};v[0]&1572864&&(b.enabled=!a[20]&&!a[19]),!l&&v[0]&512&&(l=!0,b.options=a[9],U(()=>l=!1)),!o&&v[0]&4096&&(o=!0,b.selected_option=a[12],U(()=>o=!1)),e.$set(b)},i(a){n||(j(e.$$.fragment,a),n=!0)},o(a){G(e.$$.fragment,a),n=!1},d(a){ge(e,a)}}}function Ue(t){let e,l="Carrier",o,n,f,i=(t[20]||t[19])+"",d,a,v,b,s=Ee(t[2]),r=[];for(let _=0;_<s.length;_+=1)r[_]=We(Be(t,s,_));return{c(){e=w("h3"),e.textContent=l,o=A(),n=w("select");for(let _=0;_<r.length;_+=1)r[_].c();f=Ie(`
										disabled=`),d=Ie(i),this.h()},l(_){e=I(_,"H3",{"data-svelte-h":!0}),X(e)!=="svelte-xc22hm"&&(e.textContent=l),o=P(_),n=I(_,"SELECT",{});var c=q(n);for(let h=0;h<r.length;h+=1)r[h].l(c);f=De(c,`
										disabled=`),d=De(c,i),c.forEach(g),this.h()},h(){n.disabled=a=t[20]||t[19],t[11]===void 0&&qe(()=>t[40].call(n))},m(_,c){M(_,e,c),M(_,o,c),M(_,n,c);for(let h=0;h<r.length;h+=1)r[h]&&r[h].m(n,null);D(n,f),D(n,d),ve(n,t[11],!0),v||(b=[ke(n,"change",t[40]),ke(n,"change",t[41])],v=!0)},p(_,c){if(c[0]&4){s=Ee(_[2]);let h;for(h=0;h<s.length;h+=1){const k=Be(_,s,h);r[h]?r[h].p(k,c):(r[h]=We(k),r[h].c(),r[h].m(n,f))}for(;h<r.length;h+=1)r[h].d(1);r.length=s.length}c[0]&1572864&&i!==(i=(_[20]||_[19])+"")&&Ze(d,i),c[0]&1572864&&a!==(a=_[20]||_[19])&&(n.disabled=a),c[0]&2052&&ve(n,_[11])},d(_){_&&(g(e),g(o),g(n)),ze(r,_),v=!1,je(b)}}}function We(t){let e,l=t[68]+"",o,n;return{c(){e=w("option"),o=Ie(l),this.h()},l(f){e=I(f,"OPTION",{});var i=q(e);o=De(i,l),i.forEach(g),this.h()},h(){e.__value=n=t[68],He(e,e.__value)},m(f,i){M(f,e,i),D(e,o)},p(f,i){i[0]&4&&l!==(l=f[68]+"")&&Ze(o,l),i[0]&4&&n!==(n=f[68])&&(e.__value=n,He(e,e.__value))},d(f){f&&g(e)}}}function Xe(t){let e,l,o='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">Data Selection</button>',n,f,i,d,a,v,b="Aggregation",s,r,_,c,h,k,O,Z="Normalisation",F,y,V,E,C,u,T,S,Y,$="Year",L,K,x,ae,m;function z(H){t[42](H)}function le(H){t[43](H)}let oe={};t[7]!==void 0&&(oe.options=t[7]),t[13]!==void 0&&(oe.selected_option=t[13]),r=new Oe({props:oe}),Q.push(()=>W(r,"options",z)),Q.push(()=>W(r,"selected_option",le)),r.$on("selection-changed",t[44]);function re(H){t[45](H)}function ce(H){t[46](H)}let _e={};t[8]!==void 0&&(_e.options=t[8]),t[18]!==void 0&&(_e.selected_option=t[18]),y=new Oe({props:_e}),Q.push(()=>W(y,"options",re)),Q.push(()=>W(y,"selected_option",ce)),y.$on("selection-changed",t[47]);const ee=[wt,Et],ne=[];function be(H,J){return H[13]=="technology"?0:1}u=be(t),T=ne[u]=ee[u](t);function Le(H){t[54](H)}function Ne(H){t[55](H)}let we={};return t[16]!==void 0&&(we.selected_elements=t[16]),t[4]!==void 0&&(we.elements=t[4]),K=new Ae({props:we}),Q.push(()=>W(K,"selected_elements",Le)),Q.push(()=>W(K,"elements",Ne)),K.$on("selection-changed",t[56]),{c(){e=w("div"),l=w("h2"),l.innerHTML=o,n=A(),f=w("div"),i=w("div"),d=w("div"),a=w("div"),v=w("h3"),v.textContent=b,s=A(),de(r.$$.fragment),h=A(),k=w("div"),O=w("h3"),O.textContent=Z,F=A(),de(y.$$.fragment),C=A(),T.c(),S=A(),Y=w("h3"),Y.textContent=$,L=A(),de(K.$$.fragment),this.h()},l(H){e=I(H,"DIV",{class:!0});var J=q(e);l=I(J,"H2",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-6gj1vj"&&(l.innerHTML=o),n=P(J),f=I(J,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var fe=q(f);i=I(fe,"DIV",{class:!0});var te=q(i);d=I(te,"DIV",{class:!0});var se=q(d);a=I(se,"DIV",{class:!0});var ie=q(a);v=I(ie,"H3",{"data-svelte-h":!0}),X(v)!=="svelte-126hufg"&&(v.textContent=b),s=P(ie),he(r.$$.fragment,ie),ie.forEach(g),h=P(se),k=I(se,"DIV",{class:!0});var me=q(k);O=I(me,"H3",{"data-svelte-h":!0}),X(O)!=="svelte-1273uzu"&&(O.textContent=Z),F=P(me),he(y.$$.fragment,me),me.forEach(g),se.forEach(g),C=P(te),T.l(te),S=P(te),Y=I(te,"H3",{"data-svelte-h":!0}),X(Y)!=="svelte-r9e7qt"&&(Y.textContent=$),L=P(te),he(K.$$.fragment,te),te.forEach(g),fe.forEach(g),J.forEach(g),this.h()},h(){N(l,"class","accordion-header"),N(a,"class","col-6"),N(k,"class","col-6"),N(d,"class","row"),N(i,"class","accordion-body"),N(f,"id","collapseThree"),N(f,"class","accordion-collapse collapse"),N(f,"data-bs-parent","#accordionExample"),N(e,"class","accordion-item")},m(H,J){M(H,e,J),D(e,l),D(e,n),D(e,f),D(f,i),D(i,d),D(d,a),D(a,v),D(a,s),pe(r,a,null),D(d,h),D(d,k),D(k,O),D(k,F),pe(y,k,null),D(i,C),ne[u].m(i,null),D(i,S),D(i,Y),D(i,L),pe(K,i,null),m=!0},p(H,J){const fe={};!_&&J[0]&128&&(_=!0,fe.options=H[7],U(()=>_=!1)),!c&&J[0]&8192&&(c=!0,fe.selected_option=H[13],U(()=>c=!1)),r.$set(fe);const te={};!V&&J[0]&256&&(V=!0,te.options=H[8],U(()=>V=!1)),!E&&J[0]&262144&&(E=!0,te.selected_option=H[18],U(()=>E=!1)),y.$set(te);let se=u;u=be(H),u===se?ne[u].p(H,J):(Ce(),G(ne[se],1,1,()=>{ne[se]=null}),ye(),T=ne[u],T?T.p(H,J):(T=ne[u]=ee[u](H),T.c()),j(T,1),T.m(i,S));const ie={};!x&&J[0]&65536&&(x=!0,ie.selected_elements=H[16],U(()=>x=!1)),!ae&&J[0]&16&&(ae=!0,ie.elements=H[4],U(()=>ae=!1)),K.$set(ie)},i(H){m||(j(r.$$.fragment,H),j(y.$$.fragment,H),j(T),j(K.$$.fragment,H),m=!0)},o(H){G(r.$$.fragment,H),G(y.$$.fragment,H),G(T),G(K.$$.fragment,H),m=!1},d(H){H&&g(e),ge(r),ge(y),ne[u].d(),ge(K)}}}function Et(t){let e,l="Node",o,n,f,i,d;function a(s){t[51](s)}function v(s){t[52](s)}let b={};return t[17]!==void 0&&(b.selected_elements=t[17]),t[3]!==void 0&&(b.elements=t[3]),n=new Ae({props:b}),Q.push(()=>W(n,"selected_elements",a)),Q.push(()=>W(n,"elements",v)),n.$on("selection-changed",t[53]),{c(){e=w("h3"),e.textContent=l,o=A(),de(n.$$.fragment)},l(s){e=I(s,"H3",{"data-svelte-h":!0}),X(e)!=="svelte-ocjo5w"&&(e.textContent=l),o=P(s),he(n.$$.fragment,s)},m(s,r){M(s,e,r),M(s,o,r),pe(n,s,r),d=!0},p(s,r){const _={};!f&&r[0]&131072&&(f=!0,_.selected_elements=s[17],U(()=>f=!1)),!i&&r[0]&8&&(i=!0,_.elements=s[3],U(()=>i=!1)),n.$set(_)},i(s){d||(j(n.$$.fragment,s),d=!0)},o(s){G(n.$$.fragment,s),d=!1},d(s){s&&(g(e),g(o)),ge(n,s)}}}function wt(t){let e,l="Technology",o,n,f,i,d;function a(s){t[48](s)}function v(s){t[49](s)}let b={};return t[15]!==void 0&&(b.selected_elements=t[15]),t[5]!==void 0&&(b.elements=t[5]),n=new Ae({props:b}),Q.push(()=>W(n,"selected_elements",a)),Q.push(()=>W(n,"elements",v)),n.$on("selection-changed",t[50]),{c(){e=w("h3"),e.textContent=l,o=A(),de(n.$$.fragment)},l(s){e=I(s,"H3",{"data-svelte-h":!0}),X(e)!=="svelte-q7cxxi"&&(e.textContent=l),o=P(s),he(n.$$.fragment,s)},m(s,r){M(s,e,r),M(s,o,r),pe(n,s,r),d=!0},p(s,r){const _={};!f&&r[0]&32768&&(f=!0,_.selected_elements=s[15],U(()=>f=!1)),!i&&r[0]&32&&(i=!0,_.elements=s[5],U(()=>i=!1)),n.$set(_)},i(s){d||(j(n.$$.fragment,s),d=!0)},o(s){G(n.$$.fragment,s),d=!1},d(s){s&&(g(e),g(o)),ge(n,s)}}}function It(t){let e,l,o,n;function f(a){t[57](a)}function i(a){t[58](a)}let d={};return t[21]!==void 0&&(d.config=t[21]),t[6].detail.system.reference_year!==void 0&&(d.year_offset=t[6].detail.system.reference_year),e=new yt({props:d}),Q.push(()=>W(e,"config",f)),Q.push(()=>W(e,"year_offset",i)),{c(){de(e.$$.fragment)},l(a){he(e.$$.fragment,a)},m(a,v){pe(e,a,v),n=!0},p(a,v){const b={};!l&&v[0]&2097152&&(l=!0,b.config=a[21],U(()=>l=!1)),!o&&v[0]&64&&(o=!0,b.year_offset=a[6].detail.system.reference_year,U(()=>o=!1)),e.$set(b)},i(a){n||(j(e.$$.fragment,a),n=!0)},o(a){G(e.$$.fragment,a),n=!1},d(a){ge(e,a)}}}function Dt(t){let e,l="No data with this selection.";return{c(){e=w("div"),e.textContent=l,this.h()},l(o){e=I(o,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1doxial"&&(e.textContent=l),this.h()},h(){N(e,"class","text-center")},m(o,n){M(o,e,n)},p:B,i:B,o:B,d(o){o&&g(e)}}}function Vt(t){let e,l="No locations with this selection.";return{c(){e=w("div"),e.textContent=l,this.h()},l(o){e=I(o,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-tr8mx7"&&(e.textContent=l),this.h()},h(){N(e,"class","text-center")},m(o,n){M(o,e,n)},p:B,i:B,o:B,d(o){o&&g(e)}}}function Tt(t){let e;return{c(){e=w("div")},l(l){e=I(l,"DIV",{}),q(e).forEach(g)},m(l,o){M(l,e,o)},p:B,i:B,o:B,d(l){l&&g(e)}}}function Ht(t){let e;return{c(){e=w("div")},l(l){e=I(l,"DIV",{}),q(e).forEach(g)},m(l,o){M(l,e,o)},p:B,i:B,o:B,d(l){l&&g(e)}}}function Lt(t){let e,l="No carriers with this selection.";return{c(){e=w("div"),e.textContent=l,this.h()},l(o){e=I(o,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1wht3n0"&&(e.textContent=l),this.h()},h(){N(e,"class","text-center")},m(o,n){M(o,e,n)},p:B,i:B,o:B,d(o){o&&g(e)}}}function Nt(t){let e,l="No technologies with this selection.";return{c(){e=w("div"),e.textContent=l,this.h()},l(o){e=I(o,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1ontq7"&&(e.textContent=l),this.h()},h(){N(e,"class","text-center")},m(o,n){M(o,e,n)},p:B,i:B,o:B,d(o){o&&g(e)}}}function St(t){let e,l='<div class="spinner-border center" role="status"><span class="visually-hidden">Loading...</span></div>';return{c(){e=w("div"),e.innerHTML=l,this.h()},l(o){e=I(o,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1a5ljpq"&&(e.innerHTML=l),this.h()},h(){N(e,"class","text-center")},m(o,n){M(o,e,n)},p:B,i:B,o:B,d(o){o&&g(e)}}}function Mt(t){let e,l='<div class="col"><h2>Capacity</h2></div>',o,n,f,i,d,a,v,b='<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Solution Selection</button>',s,r,_,c,h,k,O,Z,F,y,V,E,C,u;function T(m){t[29](m)}function S(m){t[30](m)}function Y(m){t[31](m)}let $={enabled:!t[20]&&!t[19]};t[4]!==void 0&&($.years=t[4]),t[6]!==void 0&&($.selected_solution=t[6]),t[19]!==void 0&&($.loading=t[19]),c=new vt({props:$}),Q.push(()=>W(c,"years",T)),Q.push(()=>W(c,"selected_solution",S)),Q.push(()=>W(c,"loading",Y)),c.$on("solution_selected",t[32]);let L=!t[19]&&t[6]&&Re(t);const K=[St,Nt,Lt,Ht,Tt,Vt,Dt,It],x=[];function ae(m,z){return m[19]||m[20]?0:m[5].length==0?1:m[2].length==0?2:m[6]==null?3:m[1]==null?4:m[3].length==0?5:m[1].length==0?6:7}return E=ae(t),C=x[E]=K[E](t),{c(){e=w("div"),e.innerHTML=l,o=A(),n=w("div"),f=w("div"),i=w("div"),d=w("div"),a=w("div"),v=w("h2"),v.innerHTML=b,s=A(),r=w("div"),_=w("div"),de(c.$$.fragment),Z=A(),L&&L.c(),F=A(),y=w("div"),V=w("div"),C.c(),this.h()},l(m){e=I(m,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-6vcuei"&&(e.innerHTML=l),o=P(m),n=I(m,"DIV",{class:!0});var z=q(n);f=I(z,"DIV",{class:!0});var le=q(f);i=I(le,"DIV",{class:!0,style:!0});var oe=q(i);d=I(oe,"DIV",{class:!0,id:!0});var re=q(d);a=I(re,"DIV",{class:!0});var ce=q(a);v=I(ce,"H2",{class:!0,"data-svelte-h":!0}),X(v)!=="svelte-64kjki"&&(v.innerHTML=b),s=P(ce),r=I(ce,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var _e=q(r);_=I(_e,"DIV",{class:!0});var ee=q(_);he(c.$$.fragment,ee),ee.forEach(g),_e.forEach(g),ce.forEach(g),Z=P(re),L&&L.l(re),re.forEach(g),oe.forEach(g),le.forEach(g),z.forEach(g),F=P(m),y=I(m,"DIV",{class:!0,style:!0});var ne=q(y);V=I(ne,"DIV",{class:!0});var be=q(V);C.l(be),be.forEach(g),ne.forEach(g),this.h()},h(){N(e,"class","row"),N(v,"class","accordion-header"),N(_,"class","accordion-body"),N(r,"id","collapseOne"),N(r,"class","accordion-collapse collapse show"),N(r,"data-bs-parent","#accordionExample"),N(a,"class","accordion-item solution-selection"),N(d,"class","accordion"),N(d,"id","accordionExample"),N(i,"class","filters"),Se(i,"position","absolute"),Se(i,"width","100%"),N(f,"class","col position-relative"),N(n,"class","row"),N(V,"class","row"),N(y,"class","col"),Se(y,"margin-top","400px")},m(m,z){M(m,e,z),M(m,o,z),M(m,n,z),D(n,f),D(f,i),D(i,d),D(d,a),D(a,v),D(a,s),D(a,r),D(r,_),pe(c,_,null),D(d,Z),L&&L.m(d,null),M(m,F,z),M(m,y,z),D(y,V),x[E].m(V,null),u=!0},p(m,z){const le={};z[0]&1572864&&(le.enabled=!m[20]&&!m[19]),!h&&z[0]&16&&(h=!0,le.years=m[4],U(()=>h=!1)),!k&&z[0]&64&&(k=!0,le.selected_solution=m[6],U(()=>k=!1)),!O&&z[0]&524288&&(O=!0,le.loading=m[19],U(()=>O=!1)),c.$set(le),!m[19]&&m[6]?L?(L.p(m,z),z[0]&524352&&j(L,1)):(L=Re(m),L.c(),j(L,1),L.m(d,null)):L&&(Ce(),G(L,1,1,()=>{L=null}),ye());let oe=E;E=ae(m),E===oe?x[E].p(m,z):(Ce(),G(x[oe],1,1,()=>{x[oe]=null}),ye(),C=x[E],C?C.p(m,z):(C=x[E]=K[E](m),C.c()),j(C,1),C.m(V,null))},i(m){u||(j(c.$$.fragment,m),j(L),j(C),u=!0)},o(m){G(c.$$.fragment,m),G(L),G(C),u=!1},d(m){m&&(g(e),g(o),g(n),g(F),g(y)),ge(c),L&&L.d(),x[E].d()}}}function Ot(t,e,l){let o=["conversion","storage","transport"],n=null,f=null,i=["capacity","capacity_addition"],d=[],a=[],v=[],b=[],s=null,r=["technology","node"],_=["not_normalized","normalized"],c=["energy","power"],h=null,k="",O=null,Z=null,F="energy",y="technology",V=null,E=[],C=[],u=[],T="not_normalized",S=!1,Y=[],$=!1,L={type:"bar",data:{datasets:Y},options:{responsive:!0,scales:{x:{stacked:!0,title:{display:!0,text:"Year"}},y:{stacked:!0,title:{display:!0,text:O+" ["+k+"]"}}}}};async function K(){l(18,T="not_normalized"),l(17,u=a),l(15,E=b),l(16,C=v),l(13,y="node"),await Pe()}async function x(){l(20,$=!0),l(0,n=null),await Pe(),O!==null&&Ct(s.solution_name,O,s.scenario_name,s.detail.system.reference_year,s.detail.system.interval_between_years).then(p=>{l(0,n=p.data),h=p.unit,l(20,$=!1)})}function ae(){l(0,n=null),l(10,O=null),l(1,f=null),l(14,V=null),l(11,Z=null)}function m(){x()}function z(){oe(),_e(),re(),K(),ee()}function le(){_e(),re(),K(),ee()}function oe(){if(l(2,d=[]),n===null||V===null)return;let p=ce();n.data.forEach(R=>{let ue=R.technology,Ve=s.detail.reference_carrier[ue];!d.includes(Ve)&&p.includes(R.technology)&&d.push(Ve)}),d.length>0&&l(11,Z=d[0])}function re(){l(3,a=[]),n.data.forEach(p=>{let R=p.technology,ue=s.detail.reference_carrier[R];b.includes(p.technology)&&!a.includes(p.location)&&a.push(p.location),!d.includes(ue)&&b.includes(p.technology)&&d.push(ue)}),l(17,u=a)}function ce(p){let R=[];switch(V){case"conversion":R=s.detail.system.set_conversion_technologies;break;case"storage":R=s.detail.system.set_storage_technologies;break;case"transport":R=s.detail.system.set_transport_technologies;break}return R}function _e(){if(V===null)return;let p=ce();if(h&&b.length>0){let R=h.data.filter(ue=>b.includes(ue.set_technologies));R.length>0&&(k=R[0][0])}l(5,b=p.filter(R=>(s==null?void 0:s.detail.reference_carrier[R])==Z)),l(15,E=b)}function ee(){if(y=="technology"?l(17,u=a):l(15,E=b),O==null||u.length==0||C.length==0||E.length==0||n===null){l(1,f=null);return}let p={},R={};y=="technology"?(p.location=u,R.technology=E):(p.technology=E,R.location=u),V=="storage"?R.capacity_type=[F]:R.capacity_type=c;let ue=v.filter(Ve=>!C.includes(Ve));l(1,f=kt(n.data,p,R,ue,T=="normalized")),l(21,L.data={datasets:f},L),l(21,L.options.scales.y.title.text=O+" ["+k+"]",L)}function ne(p){v=p,l(4,v)}function be(p){s=p,l(6,s)}function Le(p){S=p,l(19,S)}const Ne=()=>{ae()};function we(){O=Me(this),l(10,O),l(23,i)}const H=p=>{m()};function J(){V=Me(this),l(14,V),l(22,o)}const fe=()=>{z()};function te(p){c=p,l(9,c)}function se(p){F=p,l(12,F)}const ie=()=>{z()};function me(){Z=Me(this),l(11,Z),l(2,d)}const $e=()=>{le()};function xe(p){r=p,l(7,r)}function et(p){y=p,l(13,y)}const tt=p=>{console.log("Aggregation changed"),ee()};function lt(p){_=p,l(8,_)}function nt(p){T=p,l(18,T)}const ot=p=>{console.log("Normalisation changed"),ee()};function st(p){E=p,l(15,E)}function it(p){b=p,l(5,b)}const at=()=>{console.log("Technology changed"),ee()};function rt(p){u=p,l(17,u)}function ct(p){a=p,l(3,a)}const _t=p=>{console.log("Node changed"),ee()};function ft(p){C=p,l(16,C)}function ut(p){v=p,l(4,v)}const dt=p=>{console.log("Year changed"),ee()};function ht(p){L=p,l(21,L)}function pt(p){t.$$.not_equal(s.detail.system.reference_year,p)&&(s.detail.system.reference_year=p,l(6,s))}return[n,f,d,a,v,b,s,r,_,c,O,Z,F,y,V,E,C,u,T,S,$,L,o,i,ae,m,z,le,ee,ne,be,Le,Ne,we,H,J,fe,te,se,ie,me,$e,xe,et,tt,lt,nt,ot,st,it,at,rt,ct,_t,ft,ut,dt,ht,pt]}class Bt extends bt{constructor(e){super(),mt(this,e,Ot,Mt,gt,{},null,[-1,-1,-1])}}export{Bt as component};
