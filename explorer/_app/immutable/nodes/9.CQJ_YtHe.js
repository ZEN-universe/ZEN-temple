import{s as nt,r as G,e as w,a as R,c as y,m as te,g as Y,b as M,f as v,o as V,v as Ve,i as Q,h as C,w as J,y as Ae,z as we,A as ye,B as Be,C as Re,t as Ye,d as Fe,D as De,j as Ge,E as Le,n as x}from"../chunks/scheduler.BXxlKFsS.js";import{S as ot,i as st,b as K,c as de,d as he,m as pe,t as B,a as U,e as Ce,f as ge,g as Ee}from"../chunks/index.ElVQI2Jj.js";import{e as Ie}from"../chunks/each.D6YF6ztN.js";import{S as it,f as at,B as rt,g as ct}from"../chunks/utils.BGVeK_Qy.js";import{R as Te,A as He}from"../chunks/Radio.CsVFdhy-.js";function Se(t,e,l){const r=t.slice();return r[60]=e[l],r}function Me(t,e,l){const r=t.slice();return r[63]=e[l][0],r[64]=e[l][1],r}function Oe(t){let e,l,r='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Variable Selection</button>',a,u,o,s,c,k,D,i,n,p,d=Ie(Object.entries(t[3])),g=[];for(let h=0;h<d.length;h+=1)g[h]=qe(Me(t,d,h));let m=t[3]&&t[7]&&t[3][t[7]]!=null&&ze(t),I=t[7]!=null&&je(t);return{c(){e=w("div"),l=w("h2"),l.innerHTML=r,a=R(),u=w("div"),o=w("div"),s=w("select");for(let h=0;h<g.length;h+=1)g[h].c();k=R(),m&&m.c(),D=R(),I&&I.c(),this.h()},l(h){e=y(h,"DIV",{class:!0});var T=M(e);l=y(T,"H2",{class:!0,"data-svelte-h":!0}),te(l)!=="svelte-1b944yg"&&(l.innerHTML=r),a=Y(T),u=y(T,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var E=M(u);o=y(E,"DIV",{class:!0});var N=M(o);s=y(N,"SELECT",{});var Z=M(s);for(let F=0;F<g.length;F+=1)g[F].l(Z);Z.forEach(v),k=Y(N),m&&m.l(N),D=Y(N),I&&I.l(N),N.forEach(v),E.forEach(v),T.forEach(v),this.h()},h(){V(l,"class","accordion-header"),s.disabled=c=t[16]||t[17],t[7]===void 0&&Ae(()=>t[29].call(s)),V(o,"class","accordion-body"),V(u,"id","collapseTwo"),V(u,"class","accordion-collapse collapse"),V(u,"data-bs-parent","#accordionExample"),V(e,"class","accordion-item")},m(h,T){Q(h,e,T),C(e,l),C(e,a),C(e,u),C(u,o),C(o,s);for(let E=0;E<g.length;E+=1)g[E]&&g[E].m(s,null);we(s,t[7],!0),C(o,k),m&&m.m(o,null),C(o,D),I&&I.m(o,null),i=!0,n||(p=[ye(s,"change",t[29]),ye(s,"change",t[30])],n=!0)},p(h,T){if(T[0]&8){d=Ie(Object.entries(h[3]));let E;for(E=0;E<d.length;E+=1){const N=Me(h,d,E);g[E]?g[E].p(N,T):(g[E]=qe(N),g[E].c(),g[E].m(s,null))}for(;E<g.length;E+=1)g[E].d(1);g.length=d.length}(!i||T[0]&196608&&c!==(c=h[16]||h[17]))&&(s.disabled=c),T[0]&136&&we(s,h[7]),h[3]&&h[7]&&h[3][h[7]]!=null?m?(m.p(h,T),T[0]&136&&B(m,1)):(m=ze(h),m.c(),B(m,1),m.m(o,D)):m&&(Ee(),U(m,1,1,()=>{m=null}),Ce()),h[7]!=null?I?I.p(h,T):(I=je(h),I.c(),I.m(o,null)):I&&(I.d(1),I=null)},i(h){i||(B(m),i=!0)},o(h){U(m),i=!1},d(h){h&&v(e),Be(g,h),m&&m.d(),I&&I.d(),n=!1,Re(p)}}}function qe(t){let e,l=t[63]+"",r,a,u;return{c(){e=w("option"),r=Ye(l),a=R(),this.h()},l(o){e=y(o,"OPTION",{});var s=M(e);r=Fe(s,l),a=Y(s),s.forEach(v),this.h()},h(){e.__value=u=t[63],De(e,e.__value)},m(o,s){Q(o,e,s),C(e,r),C(e,a)},p(o,s){s[0]&8&&l!==(l=o[63]+"")&&Ge(r,l),s[0]&8&&u!==(u=o[63])&&(e.__value=u,De(e,e.__value))},d(o){o&&v(e)}}}function ze(t){let e,l,r,a;function u(c){t[31](c)}function o(c){t[32](c)}let s={enabled:!t[16]&&!t[17]};return t[3][t[7]]!==void 0&&(s.options=t[3][t[7]]),t[12]!==void 0&&(s.selected_option=t[12]),e=new Te({props:s}),G.push(()=>K(e,"options",u)),G.push(()=>K(e,"selected_option",o)),e.$on("selection-changed",t[33]),{c(){de(e.$$.fragment)},l(c){he(e.$$.fragment,c)},m(c,k){pe(e,c,k),a=!0},p(c,k){const D={};k[0]&196608&&(D.enabled=!c[16]&&!c[17]),!l&&k[0]&136&&(l=!0,D.options=c[3][c[7]],J(()=>l=!1)),!r&&k[0]&4096&&(r=!0,D.selected_option=c[12],J(()=>r=!1)),e.$set(D)},i(c){a||(B(e.$$.fragment,c),a=!0)},o(c){U(e.$$.fragment,c),a=!1},d(c){ge(e,c)}}}function je(t){let e,l,r,a="Carrier",u,o,s,c,k,D=Ie(t[0]),i=[];for(let n=0;n<D.length;n+=1)i[n]=Ne(Se(t,D,n));return{c(){e=w("div"),l=w("div"),r=w("h3"),r.textContent=a,u=R(),o=w("select");for(let n=0;n<i.length;n+=1)i[n].c();this.h()},l(n){e=y(n,"DIV",{class:!0});var p=M(e);l=y(p,"DIV",{class:!0});var d=M(l);r=y(d,"H3",{"data-svelte-h":!0}),te(r)!=="svelte-xc22hm"&&(r.textContent=a),u=Y(d),o=y(d,"SELECT",{});var g=M(o);for(let m=0;m<i.length;m+=1)i[m].l(g);g.forEach(v),d.forEach(v),p.forEach(v),this.h()},h(){o.disabled=s=t[16]||t[17],t[8]===void 0&&Ae(()=>t[34].call(o)),V(l,"class","col"),V(e,"class","row")},m(n,p){Q(n,e,p),C(e,l),C(l,r),C(l,u),C(l,o);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(o,null);we(o,t[8],!0),c||(k=[ye(o,"change",t[34]),ye(o,"change",t[35])],c=!0)},p(n,p){if(p[0]&1){D=Ie(n[0]);let d;for(d=0;d<D.length;d+=1){const g=Se(n,D,d);i[d]?i[d].p(g,p):(i[d]=Ne(g),i[d].c(),i[d].m(o,null))}for(;d<i.length;d+=1)i[d].d(1);i.length=D.length}p[0]&196608&&s!==(s=n[16]||n[17])&&(o.disabled=s),p[0]&257&&we(o,n[8])},d(n){n&&v(e),Be(i,n),c=!1,Re(k)}}}function Ne(t){let e,l=t[60]+"",r,a,u;return{c(){e=w("option"),r=Ye(l),a=R(),this.h()},l(o){e=y(o,"OPTION",{});var s=M(e);r=Fe(s,l),a=Y(s),s.forEach(v),this.h()},h(){e.__value=u=t[60],De(e,e.__value)},m(o,s){Q(o,e,s),C(e,r),C(e,a)},p(o,s){s[0]&1&&l!==(l=o[60]+"")&&Ge(r,l),s[0]&1&&u!==(u=o[60])&&(e.__value=u,De(e,e.__value))},d(o){o&&v(e)}}}function Pe(t){let e,l,r='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">Data Selection</button>',a,u,o,s,c,k,D="Aggregation",i,n,p,d,g,m,I,h="Normalisation",T,E,N,Z,F,H,S,O,ee,me="Year",be,W,ie,ce,P;function q(b){t[36](b)}function z(b){t[37](b)}let _e={enabled:!t[16]&&!t[17]};t[4]!==void 0&&(_e.options=t[4]),t[18]!==void 0&&(_e.selected_option=t[18]),n=new Te({props:_e}),G.push(()=>K(n,"options",q)),G.push(()=>K(n,"selected_option",z)),n.$on("selection-changed",t[38]);function le(b){t[39](b)}function ve(b){t[40](b)}let f={enabled:!t[16]&&!t[17]};t[14]!==void 0&&(f.options=t[14]),t[15]!==void 0&&(f.selected_option=t[15]),E=new Te({props:f}),G.push(()=>K(E,"options",le)),G.push(()=>K(E,"selected_option",ve)),E.$on("selection-changed",t[41]);const L=[ft,_t],A=[];function oe(b,j){return b[18]=="technology"?0:1}H=oe(t),S=A[H]=L[H](t);function ae(b){t[48](b)}function fe(b){t[49](b)}let ue={enabled:!t[16]&&!t[17]};return t[13]!==void 0&&(ue.selected_elements=t[13]),t[2]!==void 0&&(ue.elements=t[2]),W=new He({props:ue}),G.push(()=>K(W,"selected_elements",ae)),G.push(()=>K(W,"elements",fe)),W.$on("selection-changed",t[50]),{c(){e=w("div"),l=w("h2"),l.innerHTML=r,a=R(),u=w("div"),o=w("div"),s=w("div"),c=w("div"),k=w("h3"),k.textContent=D,i=R(),de(n.$$.fragment),g=R(),m=w("div"),I=w("h3"),I.textContent=h,T=R(),de(E.$$.fragment),F=R(),S.c(),O=R(),ee=w("h3"),ee.textContent=me,be=R(),de(W.$$.fragment),this.h()},l(b){e=y(b,"DIV",{class:!0});var j=M(e);l=y(j,"H2",{class:!0,"data-svelte-h":!0}),te(l)!=="svelte-hz94lo"&&(l.innerHTML=r),a=Y(j),u=y(j,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var ne=M(u);o=y(ne,"DIV",{class:!0});var $=M(o);s=y($,"DIV",{class:!0});var re=M(s);c=y(re,"DIV",{class:!0});var se=M(c);k=y(se,"H3",{"data-svelte-h":!0}),te(k)!=="svelte-126hufg"&&(k.textContent=D),i=Y(se),he(n.$$.fragment,se),se.forEach(v),g=Y(re),m=y(re,"DIV",{class:!0});var ke=M(m);I=y(ke,"H3",{"data-svelte-h":!0}),te(I)!=="svelte-1273uzu"&&(I.textContent=h),T=Y(ke),he(E.$$.fragment,ke),ke.forEach(v),re.forEach(v),F=Y($),S.l($),O=Y($),ee=y($,"H3",{"data-svelte-h":!0}),te(ee)!=="svelte-r9e7qt"&&(ee.textContent=me),be=Y($),he(W.$$.fragment,$),$.forEach(v),ne.forEach(v),j.forEach(v),this.h()},h(){V(l,"class","accordion-header"),V(c,"class","col-6"),V(m,"class","col-6"),V(s,"class","row"),V(o,"class","accordion-body"),V(u,"id","collapseThree"),V(u,"class","accordion-collapse collapse"),V(u,"data-bs-parent","#accordionExample"),V(e,"class","accordion-item")},m(b,j){Q(b,e,j),C(e,l),C(e,a),C(e,u),C(u,o),C(o,s),C(s,c),C(c,k),C(c,i),pe(n,c,null),C(s,g),C(s,m),C(m,I),C(m,T),pe(E,m,null),C(o,F),A[H].m(o,null),C(o,O),C(o,ee),C(o,be),pe(W,o,null),P=!0},p(b,j){const ne={};j[0]&196608&&(ne.enabled=!b[16]&&!b[17]),!p&&j[0]&16&&(p=!0,ne.options=b[4],J(()=>p=!1)),!d&&j[0]&262144&&(d=!0,ne.selected_option=b[18],J(()=>d=!1)),n.$set(ne);const $={};j[0]&196608&&($.enabled=!b[16]&&!b[17]),!N&&j[0]&16384&&(N=!0,$.options=b[14],J(()=>N=!1)),!Z&&j[0]&32768&&(Z=!0,$.selected_option=b[15],J(()=>Z=!1)),E.$set($);let re=H;H=oe(b),H===re?A[H].p(b,j):(Ee(),U(A[re],1,1,()=>{A[re]=null}),Ce(),S=A[H],S?S.p(b,j):(S=A[H]=L[H](b),S.c()),B(S,1),S.m(o,O));const se={};j[0]&196608&&(se.enabled=!b[16]&&!b[17]),!ie&&j[0]&8192&&(ie=!0,se.selected_elements=b[13],J(()=>ie=!1)),!ce&&j[0]&4&&(ce=!0,se.elements=b[2],J(()=>ce=!1)),W.$set(se)},i(b){P||(B(n.$$.fragment,b),B(E.$$.fragment,b),B(S),B(W.$$.fragment,b),P=!0)},o(b){U(n.$$.fragment,b),U(E.$$.fragment,b),U(S),U(W.$$.fragment,b),P=!1},d(b){b&&v(e),ge(n),ge(E),A[H].d(),ge(W)}}}function _t(t){let e,l="Node",r,a,u,o,s;function c(i){t[45](i)}function k(i){t[46](i)}let D={enabled:!t[16]&&!t[17]};return t[11]!==void 0&&(D.selected_elements=t[11]),t[1]!==void 0&&(D.elements=t[1]),a=new He({props:D}),G.push(()=>K(a,"selected_elements",c)),G.push(()=>K(a,"elements",k)),a.$on("selection-changed",t[47]),{c(){e=w("h3"),e.textContent=l,r=R(),de(a.$$.fragment)},l(i){e=y(i,"H3",{"data-svelte-h":!0}),te(e)!=="svelte-ocjo5w"&&(e.textContent=l),r=Y(i),he(a.$$.fragment,i)},m(i,n){Q(i,e,n),Q(i,r,n),pe(a,i,n),s=!0},p(i,n){const p={};n[0]&196608&&(p.enabled=!i[16]&&!i[17]),!u&&n[0]&2048&&(u=!0,p.selected_elements=i[11],J(()=>u=!1)),!o&&n[0]&2&&(o=!0,p.elements=i[1],J(()=>o=!1)),a.$set(p)},i(i){s||(B(a.$$.fragment,i),s=!0)},o(i){U(a.$$.fragment,i),s=!1},d(i){i&&(v(e),v(r)),ge(a,i)}}}function ft(t){let e,l="Technology",r,a,u,o,s;function c(i){t[42](i)}function k(i){t[43](i)}let D={enabled:!t[16]&&!t[17]};return t[10]!==void 0&&(D.selected_elements=t[10]),t[9]!==void 0&&(D.elements=t[9]),a=new He({props:D}),G.push(()=>K(a,"selected_elements",c)),G.push(()=>K(a,"elements",k)),a.$on("selection-changed",t[44]),{c(){e=w("h3"),e.textContent=l,r=R(),de(a.$$.fragment)},l(i){e=y(i,"H3",{"data-svelte-h":!0}),te(e)!=="svelte-q7cxxi"&&(e.textContent=l),r=Y(i),he(a.$$.fragment,i)},m(i,n){Q(i,e,n),Q(i,r,n),pe(a,i,n),s=!0},p(i,n){const p={};n[0]&196608&&(p.enabled=!i[16]&&!i[17]),!u&&n[0]&1024&&(u=!0,p.selected_elements=i[10],J(()=>u=!1)),!o&&n[0]&512&&(o=!0,p.elements=i[9],J(()=>o=!1)),a.$set(p)},i(i){s||(B(a.$$.fragment,i),s=!0)},o(i){U(a.$$.fragment,i),s=!1},d(i){i&&(v(e),v(r)),ge(a,i)}}}function ut(t){let e,l,r,a;function u(c){t[51](c)}function o(c){t[52](c)}let s={};return t[19]!==void 0&&(s.config=t[19]),t[6].detail.system.reference_year!==void 0&&(s.year_offset=t[6].detail.system.reference_year),e=new rt({props:s}),G.push(()=>K(e,"config",u)),G.push(()=>K(e,"year_offset",o)),{c(){de(e.$$.fragment)},l(c){he(e.$$.fragment,c)},m(c,k){pe(e,c,k),a=!0},p(c,k){const D={};!l&&k[0]&524288&&(l=!0,D.config=c[19],J(()=>l=!1)),!r&&k[0]&64&&(r=!0,D.year_offset=c[6].detail.system.reference_year,J(()=>r=!1)),e.$set(D)},i(c){a||(B(e.$$.fragment,c),a=!0)},o(c){U(e.$$.fragment,c),a=!1},d(c){ge(e,c)}}}function dt(t){let e,l="No data with this selection.";return{c(){e=w("div"),e.textContent=l,this.h()},l(r){e=y(r,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1doxial"&&(e.textContent=l),this.h()},h(){V(e,"class","text-center")},m(r,a){Q(r,e,a)},p:x,i:x,o:x,d(r){r&&v(e)}}}function ht(t){let e,l="No technologies with this selection.";return{c(){e=w("div"),e.textContent=l,this.h()},l(r){e=y(r,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1ontq7"&&(e.textContent=l),this.h()},h(){V(e,"class","text-center")},m(r,a){Q(r,e,a)},p:x,i:x,o:x,d(r){r&&v(e)}}}function pt(t){let e;return{c(){e=w("div")},l(l){e=y(l,"DIV",{}),M(e).forEach(v)},m(l,r){Q(l,e,r)},p:x,i:x,o:x,d(l){l&&v(e)}}}function gt(t){let e;return{c(){e=w("div")},l(l){e=y(l,"DIV",{}),M(e).forEach(v)},m(l,r){Q(l,e,r)},p:x,i:x,o:x,d(l){l&&v(e)}}}function bt(t){let e,l='<div class="spinner-border center" role="status"><span class="visually-hidden">Loading...</span></div>';return{c(){e=w("div"),e.innerHTML=l,this.h()},l(r){e=y(r,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1a5ljpq"&&(e.innerHTML=l),this.h()},h(){V(e,"class","text-center")},m(r,a){Q(r,e,a)},p:x,i:x,o:x,d(r){r&&v(e)}}}function mt(t){let e,l='<div class="col"><h2>Production</h2></div>',r,a,u,o,s,c,k,D='<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Solution Selection</button>',i,n,p,d,g,m,I,h,T,E,N,Z,F,H,S,O,ee;function me(f){t[24](f)}function be(f){t[25](f)}function W(f){t[26](f)}function ie(f){t[27](f)}function ce(f){t[28](f)}let P={enabled:!t[16]&&!t[17]};t[0]!==void 0&&(P.carriers=t[0]),t[1]!==void 0&&(P.nodes=t[1]),t[2]!==void 0&&(P.years=t[2]),t[6]!==void 0&&(P.selected_solution=t[6]),t[16]!==void 0&&(P.loading=t[16]),d=new it({props:P}),G.push(()=>K(d,"carriers",me)),G.push(()=>K(d,"nodes",be)),G.push(()=>K(d,"years",W)),G.push(()=>K(d,"selected_solution",ie)),G.push(()=>K(d,"loading",ce)),d.$on("solution_selected",t[20]);let q=!t[16]&&t[6]&&Oe(t),z=!t[17]&&t[8]&&t[9].length>0&&Pe(t);const _e=[bt,gt,pt,ht,dt,ut],le=[];function ve(f,L){return f[16]||f[17]?0:f[6]==null?1:f[5]==null?2:f[9].length==0?3:f[5].length==0?4:5}return S=ve(t),O=le[S]=_e[S](t),{c(){e=w("div"),e.innerHTML=l,r=R(),a=w("div"),u=w("div"),o=w("div"),s=w("div"),c=w("div"),k=w("h2"),k.innerHTML=D,i=R(),n=w("div"),p=w("div"),de(d.$$.fragment),E=R(),q&&q.c(),N=R(),z&&z.c(),Z=R(),F=w("div"),H=w("div"),O.c(),this.h()},l(f){e=y(f,"DIV",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1ow2g6f"&&(e.innerHTML=l),r=Y(f),a=y(f,"DIV",{class:!0});var L=M(a);u=y(L,"DIV",{class:!0});var A=M(u);o=y(A,"DIV",{class:!0,style:!0});var oe=M(o);s=y(oe,"DIV",{class:!0,id:!0});var ae=M(s);c=y(ae,"DIV",{class:!0});var fe=M(c);k=y(fe,"H2",{class:!0,"data-svelte-h":!0}),te(k)!=="svelte-64kjki"&&(k.innerHTML=D),i=Y(fe),n=y(fe,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var ue=M(n);p=y(ue,"DIV",{class:!0});var b=M(p);he(d.$$.fragment,b),b.forEach(v),ue.forEach(v),fe.forEach(v),E=Y(ae),q&&q.l(ae),N=Y(ae),z&&z.l(ae),ae.forEach(v),oe.forEach(v),A.forEach(v),L.forEach(v),Z=Y(f),F=y(f,"DIV",{class:!0});var j=M(F);H=y(j,"DIV",{class:!0,style:!0});var ne=M(H);O.l(ne),ne.forEach(v),j.forEach(v),this.h()},h(){V(e,"class","row"),V(k,"class","accordion-header"),V(p,"class","accordion-body"),V(n,"id","collapseOne"),V(n,"class","accordion-collapse collapse show"),V(n,"data-bs-parent","#accordionExample"),V(c,"class","accordion-item solution-selection"),V(s,"class","accordion"),V(s,"id","accordionExample"),V(o,"class","filters"),Ve(o,"position","absolute"),Ve(o,"width","100%"),V(u,"class","col position-relative"),V(a,"class","row"),V(H,"class","col"),Ve(H,"margin-top","400px"),V(F,"class","row")},m(f,L){Q(f,e,L),Q(f,r,L),Q(f,a,L),C(a,u),C(u,o),C(o,s),C(s,c),C(c,k),C(c,i),C(c,n),C(n,p),pe(d,p,null),C(s,E),q&&q.m(s,null),C(s,N),z&&z.m(s,null),Q(f,Z,L),Q(f,F,L),C(F,H),le[S].m(H,null),ee=!0},p(f,L){const A={};L[0]&196608&&(A.enabled=!f[16]&&!f[17]),!g&&L[0]&1&&(g=!0,A.carriers=f[0],J(()=>g=!1)),!m&&L[0]&2&&(m=!0,A.nodes=f[1],J(()=>m=!1)),!I&&L[0]&4&&(I=!0,A.years=f[2],J(()=>I=!1)),!h&&L[0]&64&&(h=!0,A.selected_solution=f[6],J(()=>h=!1)),!T&&L[0]&65536&&(T=!0,A.loading=f[16],J(()=>T=!1)),d.$set(A),!f[16]&&f[6]?q?(q.p(f,L),L[0]&65600&&B(q,1)):(q=Oe(f),q.c(),B(q,1),q.m(s,N)):q&&(Ee(),U(q,1,1,()=>{q=null}),Ce()),!f[17]&&f[8]&&f[9].length>0?z?(z.p(f,L),L[0]&131840&&B(z,1)):(z=Pe(f),z.c(),B(z,1),z.m(s,null)):z&&(Ee(),U(z,1,1,()=>{z=null}),Ce());let oe=S;S=ve(f),S===oe?le[S].p(f,L):(Ee(),U(le[oe],1,1,()=>{le[oe]=null}),Ce(),O=le[S],O?O.p(f,L):(O=le[S]=_e[S](f),O.c()),B(O,1),O.m(H,null))},i(f){ee||(B(d.$$.fragment,f),B(q),B(z),B(O),ee=!0)},o(f){U(d.$$.fragment,f),U(q),U(z),U(O),ee=!1},d(f){f&&(v(e),v(r),v(a),v(Z),v(F)),ge(d),q&&q.d(),z&&z.d(),le[S].d()}}}function vt(t,e,l){let r,a=[],u=[],o=[],s={conversion:["input","output"],storage:["charge","discharge"],transport:null,import_export:["import","export"]},c=["technology","node"],k=null,D=null,i="",n=null,p=null,d=null,g=[],m=[],I=[],h=null,T=[],E=["not_normalized","normalized"],N="not_normalized",Z=!1,F=!1,H="node",O={type:"bar",data:{datasets:[]},options:{responsive:!0,scales:{x:{stacked:!0,title:{display:!0,text:"Year"}},y:{stacked:!0,title:{display:!0,text:p+" ["+i+"]"}}}}};function ee(){l(13,T=o),l(11,I=u),l(10,m=g)}function me(){switch(p){case"conversion":return"flow_conversion_"+h;case"storage":return"flow_storage_"+h;case"transport":return"flow_transport";case"import_export":return"flow_"+h;default:return null}}async function be(){l(17,F=!0);let _=me();_!==null&&await ct(n.solution_name,_,n.scenario_name,n.detail.system.reference_year,n.detail.system.interval_between_years).then(X=>{r=X.data,D=X.unit,l(17,F=!1)})}function W(){if(l(5,k=null),l(8,d=""),n==null){l(0,a=[]);return}switch(p){case"import_export":h=="import"?l(0,a=n.detail.carriers_import):l(0,a=n.detail.carriers_export);break;case"conversion":let _=n.detail.carriers_output;h=="input"&&(_=n.detail.carriers_input),l(0,a=[]);for(const X in _)l(0,a=[...new Set([...a,..._[X]])]);break;default:l(0,a=n.detail.system.set_carriers)}a.length==1&&l(8,d=a[0]),ee()}function ie(){if(l(5,k=[]),p!=null&&d!=null){switch(l(9,g=(n==null?void 0:n.detail.system.set_technologies)??[]),p){case"conversion":l(9,g=[]);let _=n.detail.carriers_input;h=="output"&&(_=n.detail.carriers_output);for(const X in _)_[X].includes(d)&&g.push(X);break;case"storage":l(9,g=g.filter(X=>(n==null?void 0:n.detail.reference_carrier[X])==d));break;case"transport":l(9,g=g.filter(X=>(n==null?void 0:n.detail.reference_carrier[X])==d));break;case"import_export":l(9,g=[]);break}if(D&&g.length>0){let _=D.data.filter(X=>g.includes(X["set_"+p+"_technologies"]));_.length>0&&(i=_[0][0])}g.length==1&&l(10,m=[g[0]]),ee()}}function ce(){l(5,k=[]),p!=null&&(s[p]!=null&&l(12,h=s[p][0]),be().then(()=>{W(),ie(),P()}))}function P(){if(H=="technology"?l(11,I=u):l(10,m=g),I.length==0||T.length==0||m.length==0||!r){l(5,k=[]);return}let _={},X={};H=="technology"?(_.node=I,X.technology=m):(_.technology=m,X.node=I);let tt=o.filter(lt=>!T.includes(lt));l(5,k=at(r.data,_,X,tt,N=="normalized")),l(19,O.data={datasets:k},O),l(19,O.options.scales.y.title.text=p+" ["+i+"]",O)}function q(_){a=_,l(0,a)}function z(_){u=_,l(1,u)}function _e(_){o=_,l(2,o)}function le(_){n=_,l(6,n)}function ve(_){Z=_,l(16,Z)}function f(){p=Le(this),l(7,p),l(3,s)}const L=()=>{ce()};function A(_){t.$$.not_equal(s[p],_)&&(s[p]=_,l(3,s))}function oe(_){h=_,l(12,h)}const ae=_=>{W(),ie(),P()};function fe(){d=Le(this),l(8,d),l(0,a)}const ue=()=>{ie(),P()};function b(_){c=_,l(4,c)}function j(_){H=_,l(18,H)}const ne=_=>{P()};function $(_){E=_,l(14,E)}function re(_){N=_,l(15,N)}const se=_=>{P()};function ke(_){m=_,l(10,m)}function Je(_){g=_,l(9,g)}const Ke=()=>{P()};function Qe(_){I=_,l(11,I)}function Ue(_){u=_,l(1,u)}const We=_=>{P()};function Xe(_){T=_,l(13,T)}function Ze(_){o=_,l(2,o)}const $e=_=>{P()};function xe(_){O=_,l(19,O)}function et(_){t.$$.not_equal(n.detail.system.reference_year,_)&&(n.detail.system.reference_year=_,l(6,n))}return[a,u,o,s,c,k,n,p,d,g,m,I,h,T,E,N,Z,F,H,O,W,ie,ce,P,q,z,_e,le,ve,f,L,A,oe,ae,fe,ue,b,j,ne,$,re,se,ke,Je,Ke,Qe,Ue,We,Xe,Ze,$e,xe,et]}class Dt extends ot{constructor(e){super(),st(this,e,vt,mt,nt,{},null,[-1,-1,-1])}}export{Dt as component};
